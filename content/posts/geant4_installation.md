+++
title = "é€šè¿‡æºç å®‰è£…Geant4"
tags = ["Geant4"]
date = "2025-06-21"
+++

ä»Šå¤©æ‹¿æˆ‘å¸ˆå…„çš„Geant4æ¨¡æ‹Ÿåœ¨macè¿è¡Œåˆè¿è¡Œä¸äº†äº†ï¼ŒæŠ˜è…¾åå‘ç°ä¼¼ä¹è¦é‡è£…Geant4ã€‚è™½ç„¶Geant4æˆ‘ä¸ä¼šç”¨ï¼Œä½†æ˜¯å®‰è£…Geant4æˆ‘è¿˜æ˜¯è›®æœ‰ç»éªŒçš„ï¼æˆ‘åœ¨ubuntuã€archã€macä¸Šéƒ½å¤šæ¬¡å®‰è£…è¿‡Geant4ï¼Œæ‰€ä»¥è¶è¿™ä¸ªæœºä¼šï¼Œå°±æŠŠå®‰è£…Geant4ä½œä¸ºæˆ‘çš„ç¬¬ä¸€ç¯‡å¸–å­å§ã€‚

## å®˜æ–¹æ•™ç¨‹
æˆ‘æ˜¯è®¡ç®—æœºå°ç™½ï¼Œå¦‚æœæœ‰æƒ³å°†è¿™ç¯‡å¸–å­ä½œä¸ºæ•™ç¨‹æ¥å®‰è£…Geant4çš„è¯è¿˜æ˜¯æœ‰å¾ˆå¤§çš„é£é™©çš„ï¼Œæ‰€ä»¥è¿˜æ˜¯ä»¥å®˜æ–¹æ•™ç¨‹ä¸ºå‡†ï¼Œè¿™é‡Œè¯´ç‚¹é¢˜å¤–è¯ï¼Œæˆ‘åœ¨æŠ˜è…¾archçš„æ—¶å€™ï¼Œæ¯æ¬¡é‡åˆ°é—®é¢˜å»é—®å¸ˆå…„Aï¼Œä»–ä¼šè®©æˆ‘å»æŸ¥archçš„wikiï¼Œå»é—®å¸ˆå…„Bï¼Œä»–ä¼šè®©æˆ‘å»é—®aiï¼Œæˆ‘ç°åœ¨æ¯æ¬¡æƒ³é—®ä»–ä»¬é—®é¢˜çš„æ—¶å€™ï¼Œéƒ½ä¼šé€‰æ‹©ç›´æ¥å»é—®aiè¿˜æœ‰æŸ¥wikiäº†ï¼Œæ‰€ä»¥å¤§å®¶ä¹Ÿè¦å…»æˆè‡ªå·±æŸ¥wikiçš„å¥½ä¹ æƒ¯ï¼æœ‰å¾ˆå¤šé—®é¢˜å…¶å®ä»”ç»†æŸ¥é˜…wikiéƒ½èƒ½è‡ªå·±è§£å†³çš„ã€‚ç°åœ¨çš„aiå¾ˆå¼ºå¤§äº†ï¼Œå°±ç®—wikiä¸ŠæŸ¥ä¸åˆ°ï¼Œå»é—®aiä¹Ÿæ˜¯å¯ä»¥è§£å†³å¤§éƒ¨åˆ†é—®é¢˜çš„ï¼Œå½“ç„¶è¿™äº›éƒ½æ˜¯æˆ‘æ ¹æ®ä¸ªäººç»éªŒæ¥çœ‹æ˜¯è¿™æ ·çš„ã€‚ä¸è¿‡ä¸Šé¢æåˆ°çš„ä¸¤ä¸ªå¸ˆå…„äººå…¶å®æ˜¯éå¸¸å¥½çš„ï¼Œåªèƒ½è¯´ä»–ä»¬è®©æˆ‘ä½“ä¼šåˆ°ä»€ä¹ˆå«ä½œâ€æˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”â€œã€‚

æ‰“å¼€Geant4å®˜ç½‘[https://geant4.web.cern.ch/](https://geant4.web.cern.ch/)ï¼Œé€‰æ‹©Docsé¡¹ï¼Œ![Geant4ä¸»é¡µ](/geant4/geant4.jpg "Geant4ä¸»é¡µ")

ç„¶åé€‰æ‹©[Installation Guide](https://geant4-userdoc.web.cern.ch/UsersGuides/InstallationGuide/html/index.html)ï¼Œ![docs](/geant4/docs.png "docs")

è¿™é‡Œå°±æ˜¯å¦‚ä½•å®‰è£…Geant4çš„å®˜æ–¹æ•™ç¨‹ã€‚![installation](/geant4/installationGuide.png "installation")

## MacOS
### è¸©å‘
å…ˆåœ¨å®˜ç½‘ä¸‹è½½æºç å’Œæ‰€æœ‰DATAæ–‡ä»¶ï¼Œmacä¸Šé¢æˆ‘ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶åå­—æ˜¯"Darwin-clang17.0.0-Sequoia.tar.gz"ï¼Œæ ¹æ®å®˜æ–¹æ•™ç¨‹ç¬¬ä¸€æ­¥æ˜¯è§£å‹è¿™ä¸ªæ–‡ä»¶åˆ°æƒ³è¦çš„ä½ç½®ã€‚å…ˆåœ¨ä¸»ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åè§£å‹ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ã€‚
```zsh
cd 
mkdir Geant4
cd Geant4
tar -xzf ~/Downloads/Darwin-clang17.0.0-Sequoia.tar.gz
```
ç¬¬äºŒæ­¥æ˜¯æ–°å»ºä¸€ä¸ªbuildæ–‡ä»¶å¤¹å¹¶ä¸”è¿›å…¥ï¼Œç„¶åè¿è¡Œcmakeï¼Œæˆ‘é¡ºä¾¿å†æ–°å»ºä¸€ä¸‹installæ–‡ä»¶å¤¹ï¼Œæ¥ç€ä¸Šé¢çš„å‘½ä»¤ç»§ç»­è¾“å…¥ï¼Œä¸è¦é€€å‡ºç»ˆç«¯ã€‚
```zsh
mkdir G4_install G4_build
cd G4_build
cmake -DCMAKE_INSTALL_PREFIX=~/Geant4/G4_install ~/Geant4/Geant4-11.3.2-Darwin
```
æŠ¥é”™å¦‚ä¸‹ã€‚
```zsh
CMake Warning:
  Ignoring extra path from command line:

   "/Users/ninependoragon/Geant4/Geant4-11.3.2-Darwin"


CMake Error: The source directory "/Users/ninependoragon/Geant4/Geant4-11.3.2-Darwin" does not appear to contain CMakeLists.txt.
Specify --help for usage, or press the help button on the CMake GUI.
ninependoragon@Nines-MacBook-Pro G4_build % 
```
å¤åˆ¶ä¸‹æ¥å»é—®aiï¼Œç»“æœå‘ç°æ˜¯æˆ‘ä¸‹é”™æºç äº†ï¼Œæˆ‘ä¸‹è½½é”™æˆBinary releasesäº†ã€‚ã€‚ã€‚
OKï¼Œä¸‹è½½å¥½æºç ä¹‹åé‡æ–°è·‘ä¸€éä¸Šé¢çš„ä»£ç ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cd ..  
ninependoragon@Nines-MacBook-Pro Geant4 % ls
G4_build		G4_install		Geant4-11.3.2-Darwin
ninependoragon@Nines-MacBook-Pro Geant4 % rm -rf Geant4-11.3.2-Darwin 
ninependoragon@Nines-MacBook-Pro Geant4 % cd G4_build 
ninependoragon@Nines-MacBook-Pro G4_build % tar ~/Downloads/geant4-v11.3.2.tar 
Usage:
  List:    tar -tf <archive-filename>
  Extract: tar -xf <archive-filename>
  Create:  tar -cf <archive-filename> [filenames...]
  Help:    tar --help
```
ä¼¼ä¹æ˜¯taræ²¡åŠ -xfï¼Œä½†æ˜¯ä¸Šé¢ä¸ºä»€ä¹ˆæ˜¯æ¥-xzfï¼Œç›´æ¥é—®aiã€‚zæ˜¯gzipï¼Œå› ä¸ºä¸Šé¢è§£å‹çš„æ–‡ä»¶æœ‰åç¼€.gzï¼Œä½†æ˜¯å¦‚æœæœ‰åç¼€.gzï¼Œä¸ç”¨-xzfå°±ä¸èƒ½è§£å‹å—ï¼Ÿ
æˆ‘å›å¤´è¯•äº†ä¸€ä¸‹```tar -xf ~/Downloads/Darwin-clang17.0.0-Sequoia.tar.gz```ï¼Œç„¶è€Œè¿˜æ˜¯å¯ä»¥è§£å‹ã€‚ChatGPTå‘Šè¯‰æˆ‘æˆ‘çš„taræ˜¯æ™ºèƒ½ç‰ˆï¼Œå¯ä»¥è‡ªåŠ¨è°ƒç”¨gzipè§£å‹ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰åœ¨éª—æˆ‘ã€‚å›åˆ°æ­£é¢˜ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cd ..
ninependoragon@Nines-MacBook-Pro Geant4 % ls
G4_build	G4_install
```
Geant4-11.3.2-Darwinæˆ‘å·²ç»åˆ é™¤ï¼Œè¿™é‡Œæˆ‘ç”¨lsæ£€æŸ¥ä¸€ä¸‹æœ‰æ²¡æœ‰åˆ æ‰ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro Geant4 % tar -xf ~/Downloads/geant4-v11.3.2.tar
ninependoragon@Nines-MacBook-Pro Geant4 % ls
G4_build	G4_install	geant4-v11.3.2
ninependoragon@Nines-MacBook-Pro Geant4 % cd G4_build 
ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX=~/Geant4/G4_install ~/Geant4/geant4-v11.3.2
-- The C compiler identification is AppleClang 15.0.0.15000309
-- The CXX compiler identification is AppleClang 15.0.0.15000309
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Checking C++ feature CXXSTDLIB_FILESYSTEM_NATIVE - Success
-- Performing Test HAVE_TLS
-- Performing Test HAVE_TLS - Success
-- Found EXPAT: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/usr/lib/libexpat.tbd (found version "2.5.0")
-- Pre-configuring dataset G4NDL (4.7.1)
-- Pre-configuring dataset G4EMLOW (8.6.1)
-- Pre-configuring dataset PhotonEvaporation (6.1)
-- Pre-configuring dataset RadioactiveDecay (6.1.2)
-- Pre-configuring dataset G4PARTICLEXS (4.1)
-- Pre-configuring dataset G4PII (1.3)
-- Pre-configuring dataset RealSurface (2.2)
-- Pre-configuring dataset G4SAIDDATA (2.0)
-- Pre-configuring dataset G4ABLA (3.3)
-- Pre-configuring dataset G4INCL (1.2)
-- Pre-configuring dataset G4ENSDFSTATE (3.0)
-- Pre-configuring dataset G4CHANNELING (1.0)
  *WARNING*
    Geant4 has been pre-configured to look for datasets
    in the directory:
 
    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
 
    but the following datasets are NOT present on disk at
    that location:
 
    G4NDL (4.7.1)
    G4EMLOW (8.6.1)
    PhotonEvaporation (6.1)
    RadioactiveDecay (6.1.2)
    G4PARTICLEXS (4.1)
    G4PII (1.3)
    RealSurface (2.2)
    G4SAIDDATA (2.0)
    G4ABLA (3.3)
    G4INCL (1.2)
    G4ENSDFSTATE (3.0)
    G4CHANNELING (1.0)
 
 -  If you have access to cvmfs, you can use standard datasets
    by reconfiguring with:
      cmake -DGEANT4_INSTALL_DATADIR=/cvmfs/geant4.cern.ch/share/data <...>
    The variable can also be set in ccmake or cmake-gui.
 -  If you want to have these datasets installed by Geant4,
    simply re-run cmake with GEANT4_INSTALL_DATA=ON. This will
    configure the build to download and install these datasets for you.
    For example, use:
      cmake -DGEANT4_INSTALL_DATA=ON <otherargs>
 
    If you're running on a Windows system, this is the best
    solution as CMake will unpack the datasets for you
    without any further software being required
 
 -  Alternatively, you can install these datasets manually
    now or after you have installed Geant4. To do this,
    download the following files:
 
    https://cern.ch/geant4-data/datasets/G4NDL.4.7.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4EMLOW.8.6.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4PhotonEvaporation.6.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4RadioactiveDecay.6.1.2.tar.gz
    https://cern.ch/geant4-data/datasets/G4PARTICLEXS.4.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4PII.1.3.tar.gz
    https://cern.ch/geant4-data/datasets/G4RealSurface.2.2.tar.gz
    https://cern.ch/geant4-data/datasets/G4SAIDDATA.2.0.tar.gz
    https://cern.ch/geant4-data/datasets/G4ABLA.3.3.tar.gz
    https://cern.ch/geant4-data/datasets/G4INCL.1.2.tar.gz
    https://cern.ch/geant4-data/datasets/G4ENSDFSTATE.3.0.tar.gz
    https://cern.ch/geant4-data/datasets/G4CHANNELING.1.0.tar.gz
 
    and unpack them under the directory:
 
    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
 
    As we supply the datasets packed in gzipped tar files,
    you will need the 'tar' utility to unpack them.
 
    Nota bene: Missing datasets will not affect or break
               compilation and installation of the Geant4
               libraries.
 
-- Looking for sys/types.h
-- Looking for sys/types.h - found
-- Looking for stdint.h
-- Looking for stdint.h - found
-- Looking for stddef.h
-- Looking for stddef.h - found
-- Check size of off64_t
-- Check size of off64_t - failed
-- Looking for fseeko
-- Looking for fseeko - found
-- Looking for unistd.h
-- Looking for unistd.h - found
-- Performing Test G4ZLIB_NEEDS_DNP
-- Performing Test G4ZLIB_NEEDS_DNP - Success
-- Building PTL with option BUILD_STATIC_LIBS - OFF
-- Building PTL with option BUILD_SHARED_LIBS - ON
-- Building PTL with option BUILD_OBJECT_LIBS - 
-- Building PTL with CMAKE_CXX_STANDARD - 17
-- Building PTL with option PTL_USE_COVERAGE - 
-- Building PTL with option PTL_USE_SANITIZER - 
-- Building PTL with option PTL_USE_CLANG_TIDY - 
-- Building PTL with option PTL_USE_TBB - OFF
-- Building PTL with option PTL_USE_LOCKS - OFF
-- Building PTL with option PTL_INSTALL_HEADERS - ON
-- Building PTL with option PTL_INSTALL_CONFIG - ON
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE
-- The following Geant4 features are enabled:
CMAKE_CXX_STANDARD: Compiling against C++ Standard '17'
GEANT4_BUILD_MULTITHREADED: Build multithread enabled libraries
GEANT4_BUILD_TLS_MODEL: Building with TLS model 'initial-exec'
GEANT4_USE_SYSTEM_EXPAT: Using system EXPAT library

-- Configuring done (2.6s)
-- Generating done (0.5s)
-- Build files have been written to: /Users/ninependoragon/Geant4/G4_build
```
è¿™ä¸ªæŠ¥é”™å’Œå®˜æ–¹æ•™ç¨‹æåˆ°çš„ä¸€æ¨¡ä¸€æ ·ï¼Œåº”è¯¥å°±æ˜¯DATAæ–‡ä»¶ç¼ºå¤±ï¼ŒDATAæ–‡ä»¶ä¹Ÿæ˜¯åœ¨å®˜ç½‘çš„[Download](https://geant4.web.cern.ch/download/11.3.2.html)ç•Œé¢ä¸‹è½½ï¼Œæˆ‘å‰é¢å·²ç»ä¸‹è½½è¿‡äº†ï¼ŒæŒ‰ç…§æ•™ç¨‹ï¼Œåº”è¯¥æ˜¯éœ€è¦è§£å‹åˆ°/Users/ninependoragon/Geant4/G4_install/share/Geant4/dataæ–‡ä»¶å¤¹ä¸‹ï¼Œ/Users/ninependoragonè·¯å¾„ä¸­ninependoragonæ˜¯æˆ‘çš„ç”¨æˆ·åï¼Œå¦‚æœçœŸçš„æœ‰èŒæ–°è·Ÿç€è¿™ç¯‡å¸–å­æ¥å®‰è£…Geant4çš„è¯ï¼Œè¯·æ³¨æ„æŠŠè¿™ä¸ªæ”¹æˆè‡ªå·±çš„ç”¨æˆ·åã€‚ä¸è¿‡æˆ‘è®°å¾—æ˜¯å¾—å…ˆmakeå®Œä¹‹åå†æ·»åŠ dataæ–‡ä»¶ã€‚æ•™ç¨‹ä¸‹ä¸€æ­¥æ˜¯åœ¨cmakeä¸­æ¿€æ´»Geant4çš„ä¸€äº›åŠŸèƒ½ã€‚
```zsh
cmake -DGEANT4_INSTALL_DATA=ON
```
è¿™ä¸ªåŠŸèƒ½æ˜¯è‡ªåŠ¨ä¸‹è½½DATAæ–‡ä»¶ï¼Œå¾ˆä¹…ä»¥å‰æˆ‘ç¬¬ä¸€æ¬¡å®‰è£…Geant4çš„æ—¶å€™å¥½åƒæœ‰äººå‘Šè¯‰è¿‡æˆ‘è¿™ä¸ªä¸€èˆ¬å°±é€‰offå…³æ‰ï¼Œå½“ç„¶é»˜è®¤æ˜¯å…³æ‰ã€‚æ‰€ä»¥æˆ‘æ²¡æœ‰è¿è¡Œä¸Šé¢çš„å‘½ä»¤ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cmake -DGEANT4_INSTALL_DATA=OFF -DGEANT4_USE_GDML=ON -GEANT4_BUILD_MULTITHREADED=ON
CMake Error: Could not create named generator EANT4_BUILD_MULTITHREADED=ON

Generators
* Unix Makefiles               = Generates standard UNIX makefiles.
  Ninja                        = Generates build.ninja files.
  Ninja Multi-Config           = Generates build-<Config>.ninja files.
  Watcom WMake                 = Generates Watcom WMake makefiles.
  Xcode                        = Generate Xcode project files.
  CodeBlocks - Ninja           = Generates CodeBlocks project files
                                 (deprecated).
  CodeBlocks - Unix Makefiles  = Generates CodeBlocks project files
                                 (deprecated).
  CodeLite - Ninja             = Generates CodeLite project files
                                 (deprecated).
  CodeLite - Unix Makefiles    = Generates CodeLite project files
                                 (deprecated).
  Eclipse CDT4 - Ninja         = Generates Eclipse CDT 4.0 project files
                                 (deprecated).
  Eclipse CDT4 - Unix Makefiles= Generates Eclipse CDT 4.0 project files
                                 (deprecated).
  Kate - Ninja                 = Generates Kate project files (deprecated).
  Kate - Ninja Multi-Config    = Generates Kate project files (deprecated).
  Kate - Unix Makefiles        = Generates Kate project files (deprecated).
  Sublime Text 2 - Ninja       = Generates Sublime Text 2 project files
                                 (deprecated).
  Sublime Text 2 - Unix Makefiles
                               = Generates Sublime Text 2 project files
                                 (deprecated).

CMake Warning:
  No source or binary directory provided.  Both will be assumed to be the
  same as the current working directory, but note that this warning will
  become a fatal error in future CMake releases.
```
ä¼¼ä¹æ²¡æœ‰cmakeæˆåŠŸï¼Œåˆ æ‰è¿™ä¸ªbuildæ–‡ä»¶å¤¹é‡æ¥è¯•è¯•ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cd ..
ninependoragon@Nines-MacBook-Pro Geant4 % rm -rf G4_build 
ninependoragon@Nines-MacBook-Pro Geant4 % mkdir G4_build
ninependoragon@Nines-MacBook-Pro Geant4 % cd G4_build 
```
ä¸è¿‡åˆ é™¤ä¹‹åæˆ‘å‘ç°å¥½åƒæ˜¯åˆšåˆšå‘½ä»¤è¡Œè¾“é”™äº†ï¼Œ-GEANT4_BUILD_MULTITHREADED=ONå°‘äº†ä¸ªDã€‚ã€‚ã€‚ï¼Œä¸Šé¢çš„æ“ä½œåº”è¯¥æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œæƒ³åŠ ä»€ä¹ˆåŠŸèƒ½å°±é‡æ–°cmake -D å°±å¥½äº†

```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX=~/Geant4/G4_install -DGEANT4_INSTALL_DATA=OFF -DGEANT4_USE_GDML=ON -DGEANT4_BUILD_MULTITHREADED=ON ~/Geant4/geant4-v11.3.2
-- The C compiler identification is AppleClang 15.0.0.15000309
-- The CXX compiler identification is AppleClang 15.0.0.15000309
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Checking C++ feature CXXSTDLIB_FILESYSTEM_NATIVE - Success
-- Performing Test HAVE_TLS
-- Performing Test HAVE_TLS - Success
-- Found EXPAT: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/usr/lib/libexpat.tbd (found version "2.5.0")
CMake Error at /opt/homebrew/Cellar/cmake/3.29.3/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 (message):
  Failed to find XercesC (missing: XercesC_LIBRARY XercesC_INCLUDE_DIR
  XercesC_VERSION)
Call Stack (most recent call first):
  /opt/homebrew/Cellar/cmake/3.29.3/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:600 (_FPHSA_FAILURE_MESSAGE)
  /opt/homebrew/Cellar/cmake/3.29.3/share/cmake/Modules/FindXercesC.cmake:112 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
  cmake/Modules/G4OptionalComponents.cmake:165 (find_package)
  cmake/Modules/G4CMakeMain.cmake:59 (include)
  CMakeLists.txt:49 (include)


-- Configuring incomplete, errors occurred!
```
å…¶å®æˆ‘å°±æ˜¯ä¸ºäº†DGEANT4_USE_GDMLæ‰é‡æ–°å®‰è£…Geant4çš„ï¼Œä¸Šæ¬¡å®‰è£…Geant4å·²ç»æ˜¯ä¸¤å¹´å‰ï¼Œæºç é‚£ä¸ªæ—¶å€™ä¸å¤ªæ‡‚æ‰€ä»¥åº”è¯¥æ˜¯åˆ æ‰äº†ï¼Œä¸ç„¶é‡æ–°cmakeä¸€ä¸‹åº”è¯¥å°±è¡Œäº†ã€‚ä¸è¿‡è¿™é‡Œå‡ºç°é”™è¯¯äº†ï¼Œå…ˆå¤åˆ¶ç»™aiçœ‹çœ‹ã€‚â€œè¿™æ˜¯å› ä¸ºä½ å¼€å¯äº† -DGEANT4_USE_GDML=ONï¼ŒGeant4 éœ€è¦ä½¿ç”¨ Xerces-C++ è¿™ä¸ªåº“æ¥å¤„ç† GDMLï¼Œä½†ä½ æœ¬æœºæ²¡è£…è¿™ä¸ªåº“ï¼Œæˆ–è€… CMake æ‰¾ä¸åˆ°å®ƒã€‚â€ï¼Œé‚£ä¹ˆå°±å®‰è£…ä¸€ä¸ªxerces-cå§ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % brew install xerces-c
==> Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api/formul
==> Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api/cask.j
==> Fetching xerces-c
==> Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/xerces-c-3.3.0.arm6
######################################################################### 100.0%
==> Pouring xerces-c-3.3.0.arm64_sonoma.bottle.tar.gz
ğŸº  /opt/homebrew/Cellar/xerces-c/3.3.0: 1,715 files, 39.0MB
==> Running `brew cleanup xerces-c`...
Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
Hide these hints with HOMEBREW_NO_ENV_HINTS (see `man brew`).
ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX=~/Geant4/G4_install -DGEANT4_INSTALL_DATA=OFF -DGEANT4_USE_GDML=ON -DGEANT4_BUILD_MULTITHREADED=ON ~/Geant4/geant4-v11.3.2
-- Checking C++ feature CXXSTDLIB_FILESYSTEM_NATIVE - Success
-- Found XercesC: /opt/homebrew/lib/libxerces-c.dylib (found version "3.3.0")
-- Pre-configuring dataset G4NDL (4.7.1)
-- Pre-configuring dataset G4EMLOW (8.6.1)
-- Pre-configuring dataset PhotonEvaporation (6.1)
-- Pre-configuring dataset RadioactiveDecay (6.1.2)
-- Pre-configuring dataset G4PARTICLEXS (4.1)
-- Pre-configuring dataset G4PII (1.3)
-- Pre-configuring dataset RealSurface (2.2)
-- Pre-configuring dataset G4SAIDDATA (2.0)
-- Pre-configuring dataset G4ABLA (3.3)
-- Pre-configuring dataset G4INCL (1.2)
-- Pre-configuring dataset G4ENSDFSTATE (3.0)
-- Pre-configuring dataset G4CHANNELING (1.0)
  *WARNING*
    Geant4 has been pre-configured to look for datasets
    in the directory:
 
    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
 
    but the following datasets are NOT present on disk at
    that location:
 
    G4NDL (4.7.1)
    G4EMLOW (8.6.1)
    PhotonEvaporation (6.1)
    RadioactiveDecay (6.1.2)
    G4PARTICLEXS (4.1)
    G4PII (1.3)
    RealSurface (2.2)
    G4SAIDDATA (2.0)
    G4ABLA (3.3)
    G4INCL (1.2)
    G4ENSDFSTATE (3.0)
    G4CHANNELING (1.0)
 
 -  If you have access to cvmfs, you can use standard datasets
    by reconfiguring with:
      cmake -DGEANT4_INSTALL_DATADIR=/cvmfs/geant4.cern.ch/share/data <...>
    The variable can also be set in ccmake or cmake-gui.
 -  If you want to have these datasets installed by Geant4,
    simply re-run cmake with GEANT4_INSTALL_DATA=ON. This will
    configure the build to download and install these datasets for you.
    For example, use:
      cmake -DGEANT4_INSTALL_DATA=ON <otherargs>
 
    If you're running on a Windows system, this is the best
    solution as CMake will unpack the datasets for you
    without any further software being required
 
 -  Alternatively, you can install these datasets manually
    now or after you have installed Geant4. To do this,
    download the following files:
 
    https://cern.ch/geant4-data/datasets/G4NDL.4.7.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4EMLOW.8.6.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4PhotonEvaporation.6.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4RadioactiveDecay.6.1.2.tar.gz
    https://cern.ch/geant4-data/datasets/G4PARTICLEXS.4.1.tar.gz
    https://cern.ch/geant4-data/datasets/G4PII.1.3.tar.gz
    https://cern.ch/geant4-data/datasets/G4RealSurface.2.2.tar.gz
    https://cern.ch/geant4-data/datasets/G4SAIDDATA.2.0.tar.gz
    https://cern.ch/geant4-data/datasets/G4ABLA.3.3.tar.gz
    https://cern.ch/geant4-data/datasets/G4INCL.1.2.tar.gz
    https://cern.ch/geant4-data/datasets/G4ENSDFSTATE.3.0.tar.gz
    https://cern.ch/geant4-data/datasets/G4CHANNELING.1.0.tar.gz
 
    and unpack them under the directory:
 
    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
 
    As we supply the datasets packed in gzipped tar files,
    you will need the 'tar' utility to unpack them.
 
    Nota bene: Missing datasets will not affect or break
               compilation and installation of the Geant4
               libraries.
 
-- Looking for sys/types.h
-- Looking for sys/types.h - found
-- Looking for stdint.h
-- Looking for stdint.h - found
-- Looking for stddef.h
-- Looking for stddef.h - found
-- Check size of off64_t
-- Check size of off64_t - failed
-- Looking for fseeko
-- Looking for fseeko - found
-- Looking for unistd.h
-- Looking for unistd.h - found
-- Performing Test G4ZLIB_NEEDS_DNP
-- Performing Test G4ZLIB_NEEDS_DNP - Success
-- Building PTL with option BUILD_STATIC_LIBS - OFF
-- Building PTL with option BUILD_SHARED_LIBS - ON
-- Building PTL with option BUILD_OBJECT_LIBS - 
-- Building PTL with CMAKE_CXX_STANDARD - 17
-- Building PTL with option PTL_USE_COVERAGE - 
-- Building PTL with option PTL_USE_SANITIZER - 
-- Building PTL with option PTL_USE_CLANG_TIDY - 
-- Building PTL with option PTL_USE_TBB - OFF
-- Building PTL with option PTL_USE_LOCKS - OFF
-- Building PTL with option PTL_INSTALL_HEADERS - ON
-- Building PTL with option PTL_INSTALL_CONFIG - ON
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE
-- The following Geant4 features are enabled:
CMAKE_CXX_STANDARD: Compiling against C++ Standard '17'
GEANT4_BUILD_MULTITHREADED: Build multithread enabled libraries
GEANT4_BUILD_TLS_MODEL: Building with TLS model 'initial-exec'
GEANT4_USE_SYSTEM_EXPAT: Using system EXPAT library
GEANT4_USE_GDML: Building Geant4 with GDML support

-- Configuring done (1.9s)
-- Generating done (0.5s)
-- Build files have been written to: /Users/ninependoragon/Geant4/G4_build
```
å’Œä¹‹å‰å·®ä¸å¤šåŒæ ·çš„è¾“å‡ºã€‚æ•™ç¨‹ä¸‹ä¸€æ­¥æ˜¯makeã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % make
```
ç„¶åå°±æ˜¯ç­‰å¾…ã€‚
```zsh
...
[ 88%] Building CXX object source/CMakeFiles/G4mctruth.dir/persistency/mctruth/src/G4VPHitsCollectionIO.cc.o
[ 88%] Linking CXX shared library ../BuildProducts/lib/libG4mctruth.dylib
ld: warning: search path '/opt/homebrew/Cellar/qt@5/5.15.13_1/lib:' not found
...
```
makeè¿‡ç¨‹ä¸­çš„æŠ¥é”™ï¼Œä¼¼ä¹æ˜¯å¿˜è®°å®‰è£…qt5äº†ã€‚æ€»ä¹‹å…ˆç»§ç»­ä¸‹å»å§ï¼Œçœ‹èƒ½ä¸èƒ½æ‰“å¼€example B1ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % make install
```
ç»§ç»­ç­‰å¾…ã€‚å®Œæˆå®‰è£…å
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cd ../G4_install/share/Geant4/
ninependoragon@Nines-MacBook-Pro Geant4 % mkidr data
ninependoragon@Nines-MacBook-Pro Geant4 % cp ~/Downloads/G4DATA/* ~/Geant4/G4_install/share/Geant4/data
cp: /Users/ninependoragon/Downloads/G4DATA/G4ABLA3.3 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4CHANNELING1.0 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4EMLOW8.6.1 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4ENSDFSTATE3.0 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4INCL1.2 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4NDL4.7.1 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4NUDEXLIB1.0 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4PARTICLEXS4.1 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4PII1.3 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4SAIDDATA2.0 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4TENDL1.4 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/G4URRPT1.1 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/PhotonEvaporation6.1 is a directory (not copied).
cp: /Users/ninependoragon/Downloads/G4DATA/RadioactiveDecay6.1.2 is a directory (not copied).
ninependoragon@Nines-MacBook-Pro Geant4 % cd data 
ninependoragon@Nines-MacBook-Pro data % ls
G4ABLA.3.3.tar.gz		G4PII.1.3.tar.gz
G4CHANNELING.1.0.tar.gz		G4PhotonEvaporation.6.1.tar.gz
G4EMLOW.8.6.1.tar.gz		G4RadioactiveDecay.6.1.2.tar.gz
G4ENSDFSTATE.3.0.tar.gz		G4RealSurface.2.2.tar(1).gz
G4INCL.1.2.tar.gz		G4SAIDDATA.2.0.tar.gz
G4NDL.4.7.1.tar.gz		G4TENDL.1.4.tar.gz
G4NUDEXLIB.1.0.tar.gz		G4URRPT.1.1.tar.gz
G4PARTICLEXS.4.1.tar.gz
ninependoragon@Nines-MacBook-Pro data % cd ~/Downloads/G4DATA 
ninependoragon@Nines-MacBook-Pro G4DATA % ls
G4ABLA.3.3.tar.gz		G4PII.1.3.tar.gz
G4CHANNELING.1.0.tar.gz		G4PhotonEvaporation.6.1.tar.gz
G4EMLOW.8.6.1.tar.gz		G4RadioactiveDecay.6.1.2.tar.gz
G4ENSDFSTATE.3.0.tar.gz		G4RealSurface.2.2.tar(1).gz
G4INCL.1.2.tar.gz		G4SAIDDATA.2.0.tar.gz
G4NDL.4.7.1.tar.gz		G4TENDL.1.4.tar.gz
G4NUDEXLIB.1.0.tar.gz		G4URRPT.1.1.tar.gz
G4PARTICLEXS.4.1.tar.gz
ninependoragon@Nines-MacBook-Pro G4DATA % tar -xf *.tar.gz ~/Geant4/G4_install 
tar: G4CHANNELING.1.0.tar.gz: Not found in archive
tar: G4EMLOW.8.6.1.tar.gz: Not found in archive
tar: G4ENSDFSTATE.3.0.tar.gz: Not found in archive
tar: G4INCL.1.2.tar.gz: Not found in archive
tar: G4NDL.4.7.1.tar.gz: Not found in archive
tar: G4NUDEXLIB.1.0.tar.gz: Not found in archive
tar: G4PARTICLEXS.4.1.tar.gz: Not found in archive
tar: G4PII.1.3.tar.gz: Not found in archive
tar: G4PhotonEvaporation.6.1.tar.gz: Not found in archive
tar: G4RadioactiveDecay.6.1.2.tar.gz: Not found in archive
tar: G4SAIDDATA.2.0.tar.gz: Not found in archive
tar: G4TENDL.1.4.tar.gz: Not found in archive
tar: G4URRPT.1.1.tar.gz: Not found in archive
tar: /Users/ninependoragon/Geant4/G4_install: Not found in archive
tar: Error exit delayed from previous errors.
```
æˆ‘æŠŠä¸‹è½½çš„DATAæ–‡ä»¶å…¨æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹G4DATAä¸­ï¼Œæœ¬æ¥ä»¥ä¸ºå¯ä»¥tarä¸€æ¬¡æ€§è§£å‹ï¼Œä½†ä¼¼ä¹ä¸èƒ½ç”¨tar -xf *.tar.gzï¼Œåœ¨ç½‘ä¸Šæœç´¢ä¹‹åå‘ç°å¯ä»¥ç”¨```for tar in *.tar.gz;  do tar xvf $tar; done```ä¸€æ¬¡æ€§è§£å‹å¤šä¸ªtar.gzæ–‡ä»¶ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro G4DATA % for tar in *.tar.gz;  do tar xvf $tar; done
```
è¿è¡Œå®Œæˆä¹‹åï¼Œ
```zsh
ninependoragon@Nines-MacBook-Pro G4DATA % ls
G4ABLA.3.3.tar.gz		G4PARTICLEXS4.1
G4ABLA3.3			G4PII.1.3.tar.gz
G4CHANNELING.1.0.tar.gz		G4PII1.3
G4CHANNELING1.0			G4PhotonEvaporation.6.1.tar.gz
G4EMLOW.8.6.1.tar.gz		G4RadioactiveDecay.6.1.2.tar.gz
G4EMLOW8.6.1			G4RealSurface.2.2.tar(1).gz
G4ENSDFSTATE.3.0.tar.gz		G4SAIDDATA.2.0.tar.gz
G4ENSDFSTATE3.0			G4SAIDDATA2.0
G4INCL.1.2.tar.gz		G4TENDL.1.4.tar.gz
G4INCL1.2			G4TENDL1.4
G4NDL.4.7.1.tar.gz		G4URRPT.1.1.tar.gz
G4NDL4.7.1			G4URRPT1.1
G4NUDEXLIB.1.0.tar.gz		PhotonEvaporation6.1
G4NUDEXLIB1.0			RadioactiveDecay6.1.2
G4PARTICLEXS.4.1.tar.gz
```
å…¶å®åº”è¯¥åœ¨Geant4çš„dataç›®å½•ä¸‹è§£å‹ï¼Œ
```zsh
ninependoragon@Nines-MacBook-Pro G4_build % cd ~/Geant4/G4_install/share/Geant4/data/
ninependoragon@Nines-MacBook-Pro data % for tar in *.tar.gz;  do tar xvf $tar; done
ninependoragon@Nines-MacBook-Pro data % rm *.tar.gz
ninependoragon@Nines-MacBook-Pro data % ls
G4ABLA3.3			G4PII1.3
G4CHANNELING1.0			G4RealSurface.2.2.tar(1).gz
G4EMLOW8.6.1			G4SAIDDATA2.0
G4ENSDFSTATE3.0			G4TENDL1.4
G4INCL1.2			G4URRPT1.1
G4NDL4.7.1			PhotonEvaporation6.1
G4NUDEXLIB1.0			RadioactiveDecay6.1.2
G4PARTICLEXS4.1
```
è¿™æ ·dataæ•°æ®åº”è¯¥å°±å‡†å¤‡å¥½äº†ã€‚ç°åœ¨çœ‹çœ‹example B1èƒ½ä¸èƒ½è¿è¡Œã€‚
```zsh
ninependoragon@Nines-MacBook-Pro data % cd ..
ninependoragon@Nines-MacBook-Pro Geant4 % ls
data		examples	fonts		geant4make	tools.license
ninependoragon@Nines-MacBook-Pro Geant4 % cd examples/basic/B1 
ninependoragon@Nines-MacBook-Pro B1 % mkdir build
ninependoragon@Nines-MacBook-Pro B1 % cd build 
ninependoragon@Nines-MacBook-Pro build % cmake ..
-- The C compiler identification is AppleClang 15.0.0.15000309
-- The CXX compiler identification is AppleClang 15.0.0.15000309
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped
-- Detecting C compile features
-- Detecting C compile features - done
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Found EXPAT: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/usr/lib/libexpat.tbd (found suitable version "2.5.0", minimum required is "2.5.0")
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE
-- Found OpenGL: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/System/Library/Frameworks/OpenGL.framework
-- Found Geant4: /Users/ninependoragon/Documents/Geant4/install/lib/cmake/Geant4/Geant4Config.cmake (found version "11.1.2")
-- Configuring done (1.4s)
-- Generating done (0.0s)
-- Build files have been written to: /Users/ninependoragon/Geant4/G4_install/share/Geant4/examples/basic/B1/build
ninependoragon@Nines-MacBook-Pro build % make 
[ 12%] Building CXX object CMakeFiles/exampleB1.dir/exampleB1.cc.o
/Users/ninependoragon/Geant4/G4_install/share/Geant4/examples/basic/B1/exampleB1.cc:79:25: error: no matching constructor for initialization of 'G4VisExecutive'
  auto visManager = new G4VisExecutive(argc, argv);
                        ^              ~~~~~~~~~~
/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.icc:126:17: note: candidate constructor not viable: allows at most single argument 'verbosityString', but 2 arguments were provided
G4VisExecutive::G4VisExecutive (const G4String& verbosityString):
                ^
/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.hh:119:7: note: candidate constructor (the implicit copy constructor) not viable: requires 1 argument, but 2 were provided
class G4VisExecutive: public G4VisManager {
      ^
1 error generated.
make[2]: *** [CMakeFiles/exampleB1.dir/exampleB1.cc.o] Error 1
make[1]: *** [CMakeFiles/exampleB1.dir/all] Error 2
make: *** [all] Error 2
```
æŠ¥é”™ä¸å¯è§†åŒ–æœ‰å…³ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡å®‰è£…qt5ï¼Œä½†æ˜¯æˆ‘åœ¨æ€è€ƒï¼Œä¸ºä»€ä¹ˆæˆ‘çš„æ—§çš„Geant4å¯ä»¥è¿è¡Œã€‚ä¹Ÿæœ‰å¯èƒ½æ˜¯ç¯å¢ƒå˜é‡çš„é—®é¢˜ï¼Œå…ˆè®¾ç½®ä¸€ä¸‹å˜é‡å†çœ‹çœ‹ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro ~ % nano .zshrc 
```
çœ‹ä¸€çœ¼zshrcçš„é…ç½®æ–‡ä»¶
```go {linenos=inline}
export PATH=/opt/homebrew/opt/qt@5/bin:$PATH
export LDFLAGS="-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib":$LDFLAGS
export CPPFLAGS="-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include":$CPPFLAGS
export PKG_CONFIG_PATH=/opt/homebrew/Cellar/qt/6.7.0_1/lib/pkgconfig:$PKG_CONFI$


source ~/Documents/Geant4/install/bin/geant4.sh

alias g4camke='cmake -DGant4_DIR=~/Documents/Geant4/install/lib/cmake/Geant4/'
```
å¯ä»¥çœ‹è§æ˜¯æœ‰qt5çš„ï¼Œå¯æ˜¯Geant4çš„ç¯å¢ƒå˜é‡æ²¡æœ‰ä¿®æ”¹ã€‚å…ˆä¿®æ”¹ç¯å¢ƒå˜é‡è¯•è¯•ã€‚
```go {linenos=inline}
export PATH=/opt/homebrew/opt/qt@5/bin:$PATH
export LDFLAGS="-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib":$LDFLAGS
export CPPFLAGS="-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include":$CPPFLAGS
export PKG_CONFIG_PATH=/opt/homebrew/Cellar/qt/6.7.0_1/lib/pkgconfig:$PKG_CONFI$


source ~//Geant4/G4_install/bin/geant4.sh

alias g4camke='cmake -DGant4_DIR=~/Geant4/G4_install/lib/cmake/Geant4/'
```
control x é€€å‡ºï¼Œy å›è½¦ä¸¤æ¬¡ä¿å­˜ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro B1 % mkdir build2
ninependoragon@Nines-MacBook-Pro B1 % cd build2
ninependoragon@Nines-MacBook-Pro build2 % cmake ../
ninependoragon@Nines-MacBook-Pro build2 % make
[ 12%] Building CXX object CMakeFiles/exampleB1.dir/exampleB1.cc.o
/Users/ninependoragon/Geant4/G4_install/share/Geant4/examples/basic/B1/exampleB1.cc:79:25: error: no matching constructor for initialization of 'G4VisExecutive'
  auto visManager = new G4VisExecutive(argc, argv);
                        ^              ~~~~~~~~~~
/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.icc:126:17: note: candidate constructor not viable: allows at most single argument 'verbosityString', but 2 arguments were provided
G4VisExecutive::G4VisExecutive (const G4String& verbosityString):
                ^
/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.hh:119:7: note: candidate constructor (the implicit copy constructor) not viable: requires 1 argument, but 2 were provided
class G4VisExecutive: public G4VisManager {
      ^
1 error generated.
make[2]: *** [CMakeFiles/exampleB1.dir/exampleB1.cc.o] Error 1
make[1]: *** [CMakeFiles/exampleB1.dir/all] Error 2
make: *** [all] Error 2
```
è¿˜æ˜¯æŠ¥é”™ï¼Œå›å¤´å‘ç°é…ç½®æ–‡ä»¶å†™é”™äº†ï¼Œå¤šå†™äº†ä¸ª/ã€‚
```zsh
ninependoragon@Nines-MacBook-Pro B1 % mkdir build3
ninependoragon@Nines-MacBook-Pro B1 % cd build3 
ninependoragon@Nines-MacBook-Pro build3 % source ~/Geant4/G4_install/bin/geant4.sh 
ninependoragon@Nines-MacBook-Pro build3 % cmake ..
ninependoragon@Nines-MacBook-Pro build3 % make 
[ 12%] Building CXX object CMakeFiles/exampleB1.dir/exampleB1.cc.o
[ 25%] Building CXX object CMakeFiles/exampleB1.dir/src/ActionInitialization.cc.o
[ 37%] Building CXX object CMakeFiles/exampleB1.dir/src/DetectorConstruction.cc.o
[ 50%] Building CXX object CMakeFiles/exampleB1.dir/src/EventAction.cc.o
[ 62%] Building CXX object CMakeFiles/exampleB1.dir/src/PrimaryGeneratorAction.cc.o
[ 75%] Building CXX object CMakeFiles/exampleB1.dir/src/RunAction.cc.o
[ 87%] Building CXX object CMakeFiles/exampleB1.dir/src/SteppingAction.cc.o
[100%] Linking CXX executable exampleB1
ld: warning: search path '/opt/homebrew/Cellar/qt@5/5.15.13_1/lib:' not found
[100%] Built target exampleB1
ninependoragon@Nines-MacBook-Pro build3 % ./exampleB1 
```
å¹¶æ²¡æœ‰å‡ºç°å¯è§†åŒ–çª—å£ï¼Œç„¶åæ‰æ³¨æ„åˆ°åˆšåˆšçš„æŠ¥é”™ï¼Œè¿˜æ˜¯æ²¡æ‰¾åˆ°qt5ï¼Œä½†æ˜¯æˆ‘è¿™å°ç”µè„‘åº”è¯¥æ˜¯æœ‰qt5çš„ï¼Œ
```zsh
ninependoragon@Nines-MacBook-Pro build3 % ls /opt/homebrew/Cellar/qt@5/5.15.13_1/
Frameworks			doc
INSTALL_RECEIPT.json		include
LICENSE.FDL			lib
LICENSE.GPL3-EXCEPT		libexec
LICENSE.GPLv2			mkspecs
LICENSE.GPLv3			phrasebooks
LICENSE.LGPLv21			plugins
LICENSE.LGPLv3			qml
LICENSE.QT-LICENSE-AGREEMENT	share
README				translations
bin
```
å‘ç°æ˜¯æœ‰è¿™ä¸ªç›®å½•çš„ï¼Œä½†æ˜¯æ‰“ä¸å¼€ï¼Œè¿˜æ˜¯ç¯å¢ƒå˜é‡é—®é¢˜ã€‚å¬aiçš„ä¿®æ”¹æˆï¼š
```go {linenos=inline}
#export PATH=/opt/homebrew/opt/qt@5/bin:$PATH
#export LDFLAGS="-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib":$LDFLAGS
#export CPPFLAGS="-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include":$CPPFLAGS
#export PKG_CONFIG_PATH=/opt/homebrew/Cellar/qt/6.7.0_1/lib/pkgconfig:$PKG_CONF$

export PATH=/opt/homebrew/opt/qt@5/bin:$PATH
export LDFLAGS="-L/opt/homebrew/opt/qt@5/lib $LDFLAGS"
export CPPFLAGS="-I/opt/homebrew/opt/qt@5/include $CPPFLAGS"
export PKG_CONFIG_PATH=/opt/homebrew/opt/qt@5/lib/pkgconfig:$PKG_CONFIG_PATH


source ~/Geant4/G4_install/bin/geant4.sh

alias g4camke='cmake -DGant4_DIR=~/Geant4/G4_install/lib/cmake/Geant4/'
```
ç„¶å
```zsh 
source ~/.zshrc
```
å†æ¬¡make example B1ç»“æœè¿˜æ˜¯ä¸è¡Œã€‚

æœåˆ°ä¸€ç¯‡å¸–å­è¯´G4ä¸æ”¯æŒåœ¨zshä¸­æ‰§è¡Œï¼Œåªèƒ½bashä¸­æ‰§è¡Œï¼Œæˆ‘å…ˆçœ‹çœ‹æˆ‘çš„.bashrcã€‚
```go {linenos=inline}
export PATH=/opt/homebrew/Cellar/qt/6.5.1_2/bin:$PATH
export LDFLAGS="-L/opt/homebrew/Cellar/qt/6.5.1_2/lib":$LDFLAGS
export CPPFLAGS="-I/opt/homebrew/Cellar/qt/6.5.1_2/include":$CPPFLAGS
export PKG_CONFIG_PATH=/opt/homebrew/Cellar/qt/6.5.1_2/lib/pkgconfig:$PKG_CONFI$

export CMAKE_PREFIX_PATH=/opt/homebrew/Cellar/qt@5/5.15.10/

source /Users/ninependoragon/Documents/Geant4/install/bin/geant4.sh
```
ä¿®æ”¹ä¸€ä¸‹ï¼Œ
```go {linenos=inline}
export PATH=/opt/homebrew/Cellar/qt/6.5.1_2/bin:$PATH
export LDFLAGS="-L/opt/homebrew/Cellar/qt/6.5.1_2/lib":$LDFLAGS
export CPPFLAGS="-I/opt/homebrew/Cellar/qt/6.5.1_2/include":$CPPFLAGS
export PKG_CONFIG_PATH=/opt/homebrew/Cellar/qt/6.5.1_2/lib/pkgconfig:$PKG_CONFI$

export CMAKE_PREFIX_PATH=/opt/homebrew/Cellar/qt@5/5.15.10/

source /Users/ninependoragon/Geant4/G4_install/bin/geant4.sh
```
ä¿®æ”¹ä¹‹åè¿è¡Œè¿˜æ˜¯ä¸å¯¹ï¼Œè€Œä¸”æˆ‘è®°å¾—ä¸¤å¹´å‰æˆ‘ç”¨zshè¿è¡Œè¿‡example B1ã€‚



æ˜å¤©å†å†™å§ ç´¯äº† è¸©å‘å†™å®Œåç»™ä¸ªæ€»ç»“æˆ‘ä¼šæ”¾åœ¨æœ€å‰é¢