<!doctype html>
<html lang="en">
  <head>
    <title>通过源码安装Geant4 // Nine_Pendoragon</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.147.8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Nine_Pendoragon" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.93c02c49e4bbf2f909b7de8482c126e6a280953404a9dea238289ff38844e4e3.css" />
    

    
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="通过源码安装Geant4">
  <meta name="twitter:description" content="今天拿我师兄的Geant4模拟在mac运行又运行不了了，折腾后发现似乎要重装Geant4。虽然Geant4我不会用，但是安装Geant4我还是蛮有经验的！我在ubuntu、arch、mac上都多次安装过Geant4，所以趁这个机会，就把安装Geant4作为我的第一篇帖子吧。
官方教程 我是计算机小白，如果有想将这篇帖子作为教程来安装Geant4的话还是有很大的风险的，所以还是以官方教程为准，这里说点题外话，我在折腾arch的时候，每次遇到问题去问师兄A，他会让我去查arch的wiki，去问师兄B，他会让我去问ai，我现在每次想问他们问题的时候，都会选择直接去问ai还有查wiki了，所以大家也要养成自己查wiki的好习惯！有很多问题其实仔细查阅wiki都能自己解决的。现在的ai很强大了，就算wiki上查不到，去问ai也是可以解决大部分问题的，当然这些都是我根据个人经验来看是这样的。不过上面提到的两个师兄人其实是非常好的，只能说他们让我体会到什么叫作”授人以鱼不如授人以渔“。
打开Geant4官网https://geant4.web.cern.ch/，选择Docs项，
然后选择Installation Guide，
这里就是如何安装Geant4的官方教程。
MacOS 跟着大佬学着列一下我的设备和环境：
MacBookPro(M2 2022) OS: macOS 14.4.1 23E224 arm64 Shell: zsh 5.9 Homebrew 4.5.8 总结 为了省流，我把总结放在前面，我自己安装时候的记录放在了后面。
1. 下载Geant4源码和相关依赖 在Geant4官网https://geant4.web.cern.ch/主页的Download内下载&#34;Source code&#34;(我下载的是&#34;tar&#34;)，还有&#34;Datasets&#34;下的所有数据。 相关依赖我能记得的只有qt5、cmake了，qt需要安装码？先就安装这三个吧。xerces-c是GDML的依赖，因为我后面开启了GDML，如果不开启的话应该不需要安装xerces-c。不过看到有大佬安装提到了CLHEP，我不清楚这个是否需要安装，去可能是CLHEP的wiki上看了一眼，似乎不是必须要手动安装的？总之安装一下也无妨。打开终端，
brew install cmake brew install clhep brew install qt brew install qt5 brew install xerces-c 然后解压下载的源码。这里我把源码解压到主目录下新建的文件夹Geant4中。
cd ~ mkdir Geant4 cd Geant4 tar -xf ~/Downloads/geant4-v11.3.2.tar “geant4-v11.3.2.tar&#34;是我下载的Geant4源码压缩包的文件名，请修改成自己下载的压缩包的文件名。
2. 配置qt5环境 终端内输入
nano ~/.zshrc 我这里用的文本编辑器是nano，MacOS似乎默认包含nano，如果没有也可以用brew安装一下，也可以选择其他文本编辑器。执行上面的命令之后将下面的4行代码写入到文件内，然后按control&#43;x退出，输入y按两次回车保存。
export LDFLAGS=&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib${LDFLAGS:&#43;:$LDFLAGS}&#34; export CPPFLAGS=&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include${CPPFLAGS:&#43;:$CPPFLAGS}&#34; export PKG_CONFIG_PATH=&#34;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib/pkgconfig${PKG_CONFIG_PATH:&#43;:$PKG_CONFIG_PATH}&#34; export PATH=&#34;/opt/homebrew/opt/qt@5/bin${PATH:&#43;:}$PATH&#34; 退出之后source一下
source ~/.zshrc 3. 编译安装 我想在主目录下刚刚新建的Geant4文件夹内安装Geant4，所以就先在这个文件夹内新建一个build文件夹和一个install文件夹。">

    <meta property="og:url" content="https://ninependoragon.moe/posts/geant4_installation/">
  <meta property="og:site_name" content="Nine_Pendoragon">
  <meta property="og:title" content="通过源码安装Geant4">
  <meta property="og:description" content="今天拿我师兄的Geant4模拟在mac运行又运行不了了，折腾后发现似乎要重装Geant4。虽然Geant4我不会用，但是安装Geant4我还是蛮有经验的！我在ubuntu、arch、mac上都多次安装过Geant4，所以趁这个机会，就把安装Geant4作为我的第一篇帖子吧。
官方教程 我是计算机小白，如果有想将这篇帖子作为教程来安装Geant4的话还是有很大的风险的，所以还是以官方教程为准，这里说点题外话，我在折腾arch的时候，每次遇到问题去问师兄A，他会让我去查arch的wiki，去问师兄B，他会让我去问ai，我现在每次想问他们问题的时候，都会选择直接去问ai还有查wiki了，所以大家也要养成自己查wiki的好习惯！有很多问题其实仔细查阅wiki都能自己解决的。现在的ai很强大了，就算wiki上查不到，去问ai也是可以解决大部分问题的，当然这些都是我根据个人经验来看是这样的。不过上面提到的两个师兄人其实是非常好的，只能说他们让我体会到什么叫作”授人以鱼不如授人以渔“。
打开Geant4官网https://geant4.web.cern.ch/，选择Docs项，
然后选择Installation Guide，
这里就是如何安装Geant4的官方教程。
MacOS 跟着大佬学着列一下我的设备和环境：
MacBookPro(M2 2022) OS: macOS 14.4.1 23E224 arm64 Shell: zsh 5.9 Homebrew 4.5.8 总结 为了省流，我把总结放在前面，我自己安装时候的记录放在了后面。
1. 下载Geant4源码和相关依赖 在Geant4官网https://geant4.web.cern.ch/主页的Download内下载&#34;Source code&#34;(我下载的是&#34;tar&#34;)，还有&#34;Datasets&#34;下的所有数据。 相关依赖我能记得的只有qt5、cmake了，qt需要安装码？先就安装这三个吧。xerces-c是GDML的依赖，因为我后面开启了GDML，如果不开启的话应该不需要安装xerces-c。不过看到有大佬安装提到了CLHEP，我不清楚这个是否需要安装，去可能是CLHEP的wiki上看了一眼，似乎不是必须要手动安装的？总之安装一下也无妨。打开终端，
brew install cmake brew install clhep brew install qt brew install qt5 brew install xerces-c 然后解压下载的源码。这里我把源码解压到主目录下新建的文件夹Geant4中。
cd ~ mkdir Geant4 cd Geant4 tar -xf ~/Downloads/geant4-v11.3.2.tar “geant4-v11.3.2.tar&#34;是我下载的Geant4源码压缩包的文件名，请修改成自己下载的压缩包的文件名。
2. 配置qt5环境 终端内输入
nano ~/.zshrc 我这里用的文本编辑器是nano，MacOS似乎默认包含nano，如果没有也可以用brew安装一下，也可以选择其他文本编辑器。执行上面的命令之后将下面的4行代码写入到文件内，然后按control&#43;x退出，输入y按两次回车保存。
export LDFLAGS=&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib${LDFLAGS:&#43;:$LDFLAGS}&#34; export CPPFLAGS=&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include${CPPFLAGS:&#43;:$CPPFLAGS}&#34; export PKG_CONFIG_PATH=&#34;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib/pkgconfig${PKG_CONFIG_PATH:&#43;:$PKG_CONFIG_PATH}&#34; export PATH=&#34;/opt/homebrew/opt/qt@5/bin${PATH:&#43;:}$PATH&#34; 退出之后source一下
source ~/.zshrc 3. 编译安装 我想在主目录下刚刚新建的Geant4文件夹内安装Geant4，所以就先在这个文件夹内新建一个build文件夹和一个install文件夹。">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-21T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-06-21T00:00:00+00:00">
    <meta property="article:tag" content="Geant4">


  </head>
  <body>
    <header class="app-header">
      <a href="/"><img class="app-header-avatar" src="/avatar.jpg" alt="Nine_Pendoragon" /></a>
      <span class="app-header-title">Nine_Pendoragon</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">About</a>
      </nav>
      <p>磨刀不误砍柴工</p>
      <div class="app-header-social">
        
          <a href="https://github.com/NinePendoragon" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-brand-github" viewBox="0 0 24 24" fill="currentColor"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
          </a>
        
          <a href="https://b23.tv/5W03nDb" target="_blank" rel="noreferrer noopener me">
            <svg class="icon icon-brand-bilibili" viewBox="0 0 24 24" fill="currentColor"><title>Bilibili</title><path d="M17.813 4.653h.854c1.51.054 2.769.578 3.773 1.574 1.004.995 1.524 2.249 1.56 3.76v7.36c-.036 1.51-.556 2.769-1.56 3.773s-2.262 1.524-3.773 1.56H5.333c-1.51-.036-2.769-.556-3.773-1.56S.036 18.858 0 17.347v-7.36c.036-1.511.556-2.765 1.56-3.76 1.004-.996 2.262-1.52 3.773-1.574h.774l-1.174-1.12a1.234 1.234 0 0 1-.373-.906c0-.356.124-.658.373-.907l.027-.027c.267-.249.573-.373.92-.373.347 0 .653.124.92.373L9.653 4.44c.071.071.134.142.187.213h4.267a.836.836 0 0 1 .16-.213l2.853-2.747c.267-.249.573-.373.92-.373.347 0 .662.151.929.4.267.249.391.551.391.907 0 .355-.124.657-.373.906zM5.333 7.24c-.746.018-1.373.276-1.88.773-.506.498-.769 1.13-.786 1.894v7.52c.017.764.28 1.395.786 1.893.507.498 1.134.756 1.88.773h13.334c.746-.017 1.373-.275 1.88-.773.506-.498.769-1.129.786-1.893v-7.52c-.017-.765-.28-1.396-.786-1.894-.507-.497-1.134-.755-1.88-.773zM8 11.107c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c0-.373.129-.689.386-.947.258-.257.574-.386.947-.386zm8 0c.373 0 .684.124.933.373.25.249.383.569.4.96v1.173c-.017.391-.15.711-.4.96-.249.25-.56.374-.933.374s-.684-.125-.933-.374c-.25-.249-.383-.569-.4-.96V12.44c.017-.391.15-.711.4-.96.249-.249.56-.373.933-.373Z"/></svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
<article class="post">
  <header class="post-header">
    <h1 class="post-title">通过源码安装Geant4</h1>
    <div class="post-meta">
      <div>
        <svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
        Jun 21, 2025
      </div>
      <div>
        <svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
        15 min read
      </div>
      <div>
        <svg class="icon icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>
            <a class="tag" href="/tags/geant4/">Geant4</a>
      </div>
    </div>
  </header>

  
  <style>
    .post-wrapper {
      display: flex;
      gap: 2rem;
    }
    .post-main {
      flex: 1;
      max-width: 65rem;
    }
    .post-toc {
      flex: 0 0 250px;
      font-size: 0.9em;
      position: sticky;
      top: 100px;
      max-height: calc(100vh - 100px);
      overflow: auto;
      border-left: 1px solid #ddd;
      padding-left: 1rem;
    }
    .post img {
      max-width: 100%;
      height: auto;
    }
    @media (max-width: 939px) {
      .post-wrapper {
        flex-direction: column;
      }
      .post-toc {
        display: none;
      }
      .post-main {
        max-width: 100% !important;
      }
    }
  </style>

  <div class="post-wrapper">
    <div class="post-main" style="flex: 1; max-width: 65rem; width: 100%;">
      <p>今天拿我师兄的Geant4模拟在mac运行又运行不了了，折腾后发现似乎要重装Geant4。虽然Geant4我不会用，但是安装Geant4我还是蛮有经验的！我在ubuntu、arch、mac上都多次安装过Geant4，所以趁这个机会，就把安装Geant4作为我的第一篇帖子吧。</p>
<h2 id="官方教程">官方教程</h2>
<p>我是计算机小白，如果有想将这篇帖子作为教程来安装Geant4的话还是有很大的风险的，所以还是以官方教程为准，这里说点题外话，我在折腾arch的时候，每次遇到问题去问师兄A，他会让我去查arch的wiki，去问师兄B，他会让我去问ai，我现在每次想问他们问题的时候，都会选择直接去问ai还有查wiki了，所以大家也要养成自己查wiki的好习惯！有很多问题其实仔细查阅wiki都能自己解决的。现在的ai很强大了，就算wiki上查不到，去问ai也是可以解决大部分问题的，当然这些都是我根据个人经验来看是这样的。不过上面提到的两个师兄人其实是非常好的，只能说他们让我体会到什么叫作”授人以鱼不如授人以渔“。</p>
<p>打开Geant4官网<a href="https://geant4.web.cern.ch/">https://geant4.web.cern.ch/</a>，选择Docs项，<img src="/geant4/geant4.jpg" alt="Geant4主页" title="Geant4主页"></p>
<p>然后选择<a href="https://geant4-userdoc.web.cern.ch/UsersGuides/InstallationGuide/html/index.html">Installation Guide</a>，<img src="/geant4/docs.png" alt="docs" title="docs"></p>
<p>这里就是如何安装Geant4的官方教程。<img src="/geant4/installationGuide.png" alt="installation" title="installation"></p>
<hr>
<h2 id="macos">MacOS</h2>
<p>跟着大佬学着列一下我的设备和环境：</p>
<ul>
<li>MacBookPro(M2 2022)</li>
<li>OS: macOS 14.4.1 23E224 arm64</li>
<li>Shell: zsh 5.9</li>
<li>Homebrew 4.5.8</li>
</ul>
<h3 id="总结">总结</h3>
<p>为了省流，我把总结放在前面，我自己安装时候的记录放在了后面。</p>
<h4 id="1-下载geant4源码和相关依赖">1. <strong>下载Geant4源码和相关依赖</strong></h4>
<p>在Geant4官网<a href="https://geant4.web.cern.ch/">https://geant4.web.cern.ch/</a>主页的Download内下载&quot;Source code&quot;(我下载的是&quot;tar&quot;)，还有&quot;Datasets&quot;下的所有数据。
相关依赖我能记得的只有qt5、cmake了，qt需要安装码？先就安装这三个吧。xerces-c是GDML的依赖，因为我后面开启了GDML，如果不开启的话应该不需要安装xerces-c。不过看到有大佬安装提到了CLHEP，我不清楚这个是否需要安装，去可能是CLHEP的<a href="https://www.hep.ucl.ac.uk/pbt/wiki/Software/Geant4/Installation/CLHEP">wiki</a>上看了一眼，似乎不是必须要手动安装的？总之安装一下也无妨。打开终端，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>brew install cmake
</span></span><span style="display:flex;"><span>brew install clhep
</span></span><span style="display:flex;"><span>brew install qt
</span></span><span style="display:flex;"><span>brew install qt5
</span></span><span style="display:flex;"><span>brew install xerces-c
</span></span></code></pre></div><p>然后解压下载的源码。这里我把源码解压到主目录下新建的文件夹Geant4中。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cd ~
</span></span><span style="display:flex;"><span>mkdir Geant4
</span></span><span style="display:flex;"><span>cd Geant4
</span></span><span style="display:flex;"><span>tar -xf ~/Downloads/geant4-v11.3.2.tar 
</span></span></code></pre></div><p>&ldquo;geant4-v11.3.2.tar&quot;是我下载的Geant4源码压缩包的文件名，请修改成自己下载的压缩包的文件名。</p>
<h4 id="2-配置qt5环境">2. <strong>配置qt5环境</strong></h4>
<p>终端内输入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano ~/.zshrc
</span></span></code></pre></div><p>我这里用的文本编辑器是nano，MacOS似乎默认包含nano，如果没有也可以用brew安装一下，也可以选择其他文本编辑器。执行上面的命令之后将下面的4行代码写入到文件内，然后按control+x退出，输入y按两次回车保存。</p>
<pre tabindex="0"><code>export LDFLAGS=&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib${LDFLAGS:+:$LDFLAGS}&#34;
export CPPFLAGS=&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include${CPPFLAGS:+:$CPPFLAGS}&#34;
export PKG_CONFIG_PATH=&#34;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib/pkgconfig${PKG_CONFIG_PATH:+:$PKG_CONFIG_PATH}&#34;
export PATH=&#34;/opt/homebrew/opt/qt@5/bin${PATH:+:}$PATH&#34;
</code></pre><p>退出之后source一下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>source ~/.zshrc
</span></span></code></pre></div><h4 id="3-编译安装">3. <strong>编译安装</strong></h4>
<p>我想在主目录下刚刚新建的Geant4文件夹内安装Geant4，所以就先在这个文件夹内新建一个build文件夹和一个install文件夹。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cd ~/Geant4
</span></span><span style="display:flex;"><span>mkdir G4_build G4_install
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>cd G4_build
</span></span><span style="display:flex;"><span>cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>OFF -DGEANT4_USE_GDML<span style="color:#f92672">=</span>ON -DGEANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON -DGEANT4_USE_QT<span style="color:#f92672">=</span>ON ~/Geant4/geant4-v11.3.2
</span></span></code></pre></div><p>”-DCMAKE_INSTALL_PREFIX= ~/Geant4/G4_install“和”-DGEANT4_USE_QT= ON ~/Geant4/geant4-v11.3.2“中间的内容是设置开关Geant4的一些选项，可以在Geant4安装教程的standard options内查询相关功能的介绍，开关其他功能需要输入”-D“+选项的名字+”=ON/OFF“。安装完之后如果需要开启某些选项，需要重新cmake，所以源码不要删。cmake这一步会弹出一堆输出，大致内容就是关于data文件的，可以先不管，如果是其他报错建议复制报错给ai或者网上搜索。cmake结束后，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>make -j4
</span></span></code></pre></div><p>make -jN &ldquo;where is the number of parallel jobs you require N&rdquo;，N是同时并行的任务数，和CPU核心数有关。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>make install
</span></span></code></pre></div><p>上述两个命令运行的时候都要注意输出的waring。</p>
<h4 id="4-创建data文件">4. <strong>创建DATA文件</strong></h4>
<p>可以把下载的DATA文件先随便放在一个文件夹中，比如我放在Downloads下的G4DATA文件夹内，然后终端输入，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cp ~/Downloads/G4DATA/* ~/Geant4/G4_install/share/Geant4/data
</span></span><span style="display:flex;"><span>cd ~/Geant4/G4_install/share/Geant4/data
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> tar in *.tar.gz;  <span style="color:#66d9ef">do</span> tar xvf $tar; <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>rm *.tar.gz
</span></span><span style="display:flex;"><span>ls
</span></span></code></pre></div><p>不过要注意下载的DATA文件后缀是不是tar.gz，或者不用上面的命令，直接用Finder去文件夹里面将数据文件解压后复制到Geant4安装目录下的share/Geant4/data文件夹内。上面的ls命令是为了看data文件是否是完整的。</p>
<h4 id="5-配置geant4环境">5. <strong>配置Geant4环境</strong></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano ~/.zshrc
</span></span></code></pre></div><p>在最后面写入</p>
<pre tabindex="0"><code>source ~/Geant4/G4_install/bin/geant4.sh
</code></pre><p>上述路径都以自己的为准。保存退出之后source一下.zshrc，或者重启一下终端。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>source ~/.zshrc
</span></span></code></pre></div><h4 id="6-运行example-b1">6. <strong>运行example B1</strong></h4>
<p>运行一下example B1看有没有安装成功。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cd ~/Geant4
</span></span><span style="display:flex;"><span>cp -r G4_install/share/Geant4/examples/basic G4_examples
</span></span><span style="display:flex;"><span>cd G4_examples
</span></span><span style="display:flex;"><span>mkdir B1_build
</span></span><span style="display:flex;"><span>cd B1_build
</span></span><span style="display:flex;"><span>cmake ../B1
</span></span><span style="display:flex;"><span>make -j4
</span></span><span style="display:flex;"><span>./exampleB1
</span></span></code></pre></div><p>出现下图一样的可视化窗口就说明Geant4安装成功了。
<img src="/geant4/B1.png" alt="exampleB1" title="exampleB1">
如果有其他问题可以在<a href="https://b23.tv/5W03nDb">B站</a>私信我，一起讨论共同成长。</p>
<h3 id="踩坑">踩坑</h3>
<p>先在官网下载源码和所有DATA文件，mac上面我下载下来的文件名字是&quot;Darwin-clang17.0.0-Sequoia.tar.gz&rdquo;，根据官方教程第一步是解压这个文件到想要的位置。先在主目录下新建一个文件夹，然后解压，在终端中输入下面的命令。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cd 
</span></span><span style="display:flex;"><span>mkdir Geant4
</span></span><span style="display:flex;"><span>cd Geant4
</span></span><span style="display:flex;"><span>tar -xzf ~/Downloads/Darwin-clang17.0.0-Sequoia.tar.gz
</span></span></code></pre></div><p>第二步是新建一个build文件夹并且进入，然后运行cmake，我顺便再新建一下install文件夹，接着上面的命令继续输入，不要退出终端。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>mkdir G4_install G4_build
</span></span><span style="display:flex;"><span>cd G4_build
</span></span><span style="display:flex;"><span>cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install ~/Geant4/Geant4-11.3.2-Darwin
</span></span></code></pre></div><p>报错如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>CMake Warning:
</span></span><span style="display:flex;"><span>  Ignoring extra path from command line:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;/Users/ninependoragon/Geant4/Geant4-11.3.2-Darwin&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CMake Error: The source directory <span style="color:#e6db74">&#34;/Users/ninependoragon/Geant4/Geant4-11.3.2-Darwin&#34;</span> does not appear to contain CMakeLists.txt.
</span></span><span style="display:flex;"><span>Specify --help <span style="color:#66d9ef">for</span> usage, or press the help button on the CMake GUI.
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % 
</span></span></code></pre></div><p>复制下来去问ai，结果发现是我下错源码了，我下载错成Binary releases了。。。
OK，下载好源码之后重新跑一遍上面的代码。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cd ..  
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % ls
</span></span><span style="display:flex;"><span>G4_build		G4_install		Geant4-11.3.2-Darwin
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % rm -rf Geant4-11.3.2-Darwin 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % cd G4_build 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % tar ~/Downloads/geant4-v11.3.2.tar 
</span></span><span style="display:flex;"><span>Usage:
</span></span><span style="display:flex;"><span>  List:    tar -tf &lt;archive-filename&gt;
</span></span><span style="display:flex;"><span>  Extract: tar -xf &lt;archive-filename&gt;
</span></span><span style="display:flex;"><span>  Create:  tar -cf &lt;archive-filename&gt; <span style="color:#f92672">[</span>filenames...<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>  Help:    tar --help
</span></span></code></pre></div><p>似乎是tar没加-xf，但是上面为什么是接-xzf，直接问ai。z是gzip，因为上面解压的文件有后缀.gz，但是如果有后缀.gz，不用-xzf就不能解压吗？
我回头试了一下<code>tar -xf ~/Downloads/Darwin-clang17.0.0-Sequoia.tar.gz</code>，然而还是可以解压。ChatGPT告诉我我的tar是智能版，可以自动调用gzip解压，不知道有没有在骗我。回到正题。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cd ..
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % ls
</span></span><span style="display:flex;"><span>G4_build	G4_install
</span></span></code></pre></div><p>Geant4-11.3.2-Darwin我已经删除，这里我用ls检查一下有没有删掉。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % tar -xf ~/Downloads/geant4-v11.3.2.tar
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % ls
</span></span><span style="display:flex;"><span>G4_build	G4_install	geant4-v11.3.2
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % cd G4_build 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install ~/Geant4/geant4-v11.3.2
</span></span><span style="display:flex;"><span>-- The C compiler identification is AppleClang 15.0.0.15000309
</span></span><span style="display:flex;"><span>-- The CXX compiler identification is AppleClang 15.0.0.15000309
</span></span><span style="display:flex;"><span>-- Detecting C compiler ABI info
</span></span><span style="display:flex;"><span>-- Detecting C compiler ABI info - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Check <span style="color:#66d9ef">for</span> working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped
</span></span><span style="display:flex;"><span>-- Detecting C compile features
</span></span><span style="display:flex;"><span>-- Detecting C compile features - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Detecting CXX compiler ABI info
</span></span><span style="display:flex;"><span>-- Detecting CXX compiler ABI info - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Check <span style="color:#66d9ef">for</span> working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped
</span></span><span style="display:flex;"><span>-- Detecting CXX compile features
</span></span><span style="display:flex;"><span>-- Detecting CXX compile features - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Checking C++ feature CXXSTDLIB_FILESYSTEM_NATIVE - Success
</span></span><span style="display:flex;"><span>-- Performing Test HAVE_TLS
</span></span><span style="display:flex;"><span>-- Performing Test HAVE_TLS - Success
</span></span><span style="display:flex;"><span>-- Found EXPAT: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/usr/lib/libexpat.tbd <span style="color:#f92672">(</span>found version <span style="color:#e6db74">&#34;2.5.0&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4NDL <span style="color:#f92672">(</span>4.7.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4EMLOW <span style="color:#f92672">(</span>8.6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset PhotonEvaporation <span style="color:#f92672">(</span>6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset RadioactiveDecay <span style="color:#f92672">(</span>6.1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4PARTICLEXS <span style="color:#f92672">(</span>4.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4PII <span style="color:#f92672">(</span>1.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset RealSurface <span style="color:#f92672">(</span>2.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4SAIDDATA <span style="color:#f92672">(</span>2.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4ABLA <span style="color:#f92672">(</span>3.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4INCL <span style="color:#f92672">(</span>1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4ENSDFSTATE <span style="color:#f92672">(</span>3.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4CHANNELING <span style="color:#f92672">(</span>1.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  *WARNING*
</span></span><span style="display:flex;"><span>    Geant4 has been pre-configured to look <span style="color:#66d9ef">for</span> datasets
</span></span><span style="display:flex;"><span>    in the directory:
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    but the following datasets are NOT present on disk at
</span></span><span style="display:flex;"><span>    that location:
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    G4NDL <span style="color:#f92672">(</span>4.7.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4EMLOW <span style="color:#f92672">(</span>8.6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    PhotonEvaporation <span style="color:#f92672">(</span>6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    RadioactiveDecay <span style="color:#f92672">(</span>6.1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4PARTICLEXS <span style="color:#f92672">(</span>4.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4PII <span style="color:#f92672">(</span>1.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    RealSurface <span style="color:#f92672">(</span>2.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4SAIDDATA <span style="color:#f92672">(</span>2.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4ABLA <span style="color:#f92672">(</span>3.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4INCL <span style="color:#f92672">(</span>1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4ENSDFSTATE <span style="color:#f92672">(</span>3.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4CHANNELING <span style="color:#f92672">(</span>1.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> -  If you have access to cvmfs, you can use standard datasets
</span></span><span style="display:flex;"><span>    by reconfiguring with:
</span></span><span style="display:flex;"><span>      cmake -DGEANT4_INSTALL_DATADIR<span style="color:#f92672">=</span>/cvmfs/geant4.cern.ch/share/data &lt;...&gt;
</span></span><span style="display:flex;"><span>    The variable can also be set in ccmake or cmake-gui.
</span></span><span style="display:flex;"><span> -  If you want to have these datasets installed by Geant4,
</span></span><span style="display:flex;"><span>    simply re-run cmake with GEANT4_INSTALL_DATA<span style="color:#f92672">=</span>ON. This will
</span></span><span style="display:flex;"><span>    configure the build to download and install these datasets <span style="color:#66d9ef">for</span> you.
</span></span><span style="display:flex;"><span>    For example, use:
</span></span><span style="display:flex;"><span>      cmake -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>ON &lt;otherargs&gt;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    If you<span style="color:#e6db74">&#39;re running on a Windows system, this is the best
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    solution as CMake will unpack the datasets for you
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    without any further software being required
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -  Alternatively, you can install these datasets manually
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    now or after you have installed Geant4. To do this,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    download the following files:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4NDL.4.7.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4EMLOW.8.6.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4PhotonEvaporation.6.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4RadioactiveDecay.6.1.2.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4PARTICLEXS.4.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4PII.1.3.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4RealSurface.2.2.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4SAIDDATA.2.0.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4ABLA.3.3.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4INCL.1.2.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4ENSDFSTATE.3.0.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4CHANNELING.1.0.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    and unpack them under the directory:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    As we supply the datasets packed in gzipped tar files,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    you will need the &#39;</span>tar<span style="color:#e6db74">&#39; utility to unpack them.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Nota bene: Missing datasets will not affect or break
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               compilation and installation of the Geant4
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               libraries.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for sys/types.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for sys/types.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stdint.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stdint.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stddef.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stddef.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Check size of off64_t
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Check size of off64_t - failed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for fseeko
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for fseeko - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for unistd.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for unistd.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test G4ZLIB_NEEDS_DNP
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test G4ZLIB_NEEDS_DNP - Success
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option BUILD_STATIC_LIBS - OFF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option BUILD_SHARED_LIBS - ON
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option BUILD_OBJECT_LIBS - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with CMAKE_CXX_STANDARD - 17
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_COVERAGE - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_SANITIZER - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_CLANG_TIDY - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_TBB - OFF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_LOCKS - OFF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_INSTALL_HEADERS - ON
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_INSTALL_CONFIG - ON
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Found Threads: TRUE
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- The following Geant4 features are enabled:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">CMAKE_CXX_STANDARD: Compiling against C++ Standard &#39;</span>17<span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">GEANT4_BUILD_MULTITHREADED: Build multithread enabled libraries
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">GEANT4_BUILD_TLS_MODEL: Building with TLS model &#39;</span>initial-exec<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>GEANT4_USE_SYSTEM_EXPAT: Using system EXPAT library
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- Configuring <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span>2.6s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Generating <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span>0.5s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Build files have been written to: /Users/ninependoragon/Geant4/G4_build
</span></span></code></pre></div><p>这个报错和官方教程提到的一模一样，应该就是DATA文件缺失，DATA文件也是在官网的<a href="https://geant4.web.cern.ch/download/11.3.2.html">Download</a>界面下载，我前面已经下载过了，按照教程，应该是需要解压到~/Geant4/G4_install/share/Geant4/data文件夹下，/Users/ninependoragon路径中ninependoragon是我的用户名，如果真的有萌新跟着这篇帖子来安装Geant4的话，请注意把这个改成自己的用户名。不过我记得是得先make完之后再添加data文件。教程下一步是在cmake中激活Geant4的一些功能。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cmake -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>ON
</span></span></code></pre></div><p>这个功能是自动下载DATA文件，很久以前我第一次安装Geant4的时候好像有人告诉过我这个一般就选off关掉，当然默认是关掉。所以我没有运行上面的命令。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cmake -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>OFF -DGEANT4_USE_GDML<span style="color:#f92672">=</span>ON -GEANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON
</span></span><span style="display:flex;"><span>CMake Error: Could not create named generator EANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Generators
</span></span><span style="display:flex;"><span>* Unix Makefiles               <span style="color:#f92672">=</span> Generates standard UNIX makefiles.
</span></span><span style="display:flex;"><span>  Ninja                        <span style="color:#f92672">=</span> Generates build.ninja files.
</span></span><span style="display:flex;"><span>  Ninja Multi-Config           <span style="color:#f92672">=</span> Generates build-&lt;Config&gt;.ninja files.
</span></span><span style="display:flex;"><span>  Watcom WMake                 <span style="color:#f92672">=</span> Generates Watcom WMake makefiles.
</span></span><span style="display:flex;"><span>  Xcode                        <span style="color:#f92672">=</span> Generate Xcode project files.
</span></span><span style="display:flex;"><span>  CodeBlocks - Ninja           <span style="color:#f92672">=</span> Generates CodeBlocks project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  CodeBlocks - Unix Makefiles  <span style="color:#f92672">=</span> Generates CodeBlocks project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  CodeLite - Ninja             <span style="color:#f92672">=</span> Generates CodeLite project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  CodeLite - Unix Makefiles    <span style="color:#f92672">=</span> Generates CodeLite project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Eclipse CDT4 - Ninja         <span style="color:#f92672">=</span> Generates Eclipse CDT 4.0 project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Eclipse CDT4 - Unix Makefiles<span style="color:#f92672">=</span> Generates Eclipse CDT 4.0 project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Kate - Ninja                 <span style="color:#f92672">=</span> Generates Kate project files <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Kate - Ninja Multi-Config    <span style="color:#f92672">=</span> Generates Kate project files <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Kate - Unix Makefiles        <span style="color:#f92672">=</span> Generates Kate project files <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Sublime Text <span style="color:#ae81ff">2</span> - Ninja       <span style="color:#f92672">=</span> Generates Sublime Text <span style="color:#ae81ff">2</span> project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>  Sublime Text <span style="color:#ae81ff">2</span> - Unix Makefiles
</span></span><span style="display:flex;"><span>                               <span style="color:#f92672">=</span> Generates Sublime Text <span style="color:#ae81ff">2</span> project files
</span></span><span style="display:flex;"><span>                                 <span style="color:#f92672">(</span>deprecated<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CMake Warning:
</span></span><span style="display:flex;"><span>  No source or binary directory provided.  Both will be assumed to be the
</span></span><span style="display:flex;"><span>  same as the current working directory, but note that this warning will
</span></span><span style="display:flex;"><span>  become a fatal error in future CMake releases.
</span></span></code></pre></div><p>似乎没有cmake成功，删掉这个build文件夹重来试试。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cd ..
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % rm -rf G4_build 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % mkdir G4_build
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % cd G4_build 
</span></span></code></pre></div><p>不过删除之后我发现好像是刚刚命令行输错了，-GEANT4_BUILD_MULTITHREADED=ON少了个D。。。，上面的操作应该是没有问题的，想加什么功能就重新cmake -D 就好了</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>OFF -DGEANT4_USE_GDML<span style="color:#f92672">=</span>ON -DGEANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON ~/Geant4/geant4-v11.3.2
</span></span><span style="display:flex;"><span>-- The C compiler identification is AppleClang 15.0.0.15000309
</span></span><span style="display:flex;"><span>-- The CXX compiler identification is AppleClang 15.0.0.15000309
</span></span><span style="display:flex;"><span>-- Detecting C compiler ABI info
</span></span><span style="display:flex;"><span>-- Detecting C compiler ABI info - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Check <span style="color:#66d9ef">for</span> working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped
</span></span><span style="display:flex;"><span>-- Detecting C compile features
</span></span><span style="display:flex;"><span>-- Detecting C compile features - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Detecting CXX compiler ABI info
</span></span><span style="display:flex;"><span>-- Detecting CXX compiler ABI info - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Check <span style="color:#66d9ef">for</span> working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped
</span></span><span style="display:flex;"><span>-- Detecting CXX compile features
</span></span><span style="display:flex;"><span>-- Detecting CXX compile features - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Checking C++ feature CXXSTDLIB_FILESYSTEM_NATIVE - Success
</span></span><span style="display:flex;"><span>-- Performing Test HAVE_TLS
</span></span><span style="display:flex;"><span>-- Performing Test HAVE_TLS - Success
</span></span><span style="display:flex;"><span>-- Found EXPAT: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/usr/lib/libexpat.tbd <span style="color:#f92672">(</span>found version <span style="color:#e6db74">&#34;2.5.0&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>CMake Error at /opt/homebrew/Cellar/cmake/3.29.3/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:230 <span style="color:#f92672">(</span>message<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>  Failed to find XercesC <span style="color:#f92672">(</span>missing: XercesC_LIBRARY XercesC_INCLUDE_DIR
</span></span><span style="display:flex;"><span>  XercesC_VERSION<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Call Stack <span style="color:#f92672">(</span>most recent call first<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>  /opt/homebrew/Cellar/cmake/3.29.3/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:600 <span style="color:#f92672">(</span>_FPHSA_FAILURE_MESSAGE<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  /opt/homebrew/Cellar/cmake/3.29.3/share/cmake/Modules/FindXercesC.cmake:112 <span style="color:#f92672">(</span>FIND_PACKAGE_HANDLE_STANDARD_ARGS<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  cmake/Modules/G4OptionalComponents.cmake:165 <span style="color:#f92672">(</span>find_package<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  cmake/Modules/G4CMakeMain.cmake:59 <span style="color:#f92672">(</span>include<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  CMakeLists.txt:49 <span style="color:#f92672">(</span>include<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- Configuring incomplete, errors occurred!
</span></span></code></pre></div><p>其实我就是为了DGEANT4_USE_GDML才重新安装Geant4的，上次安装Geant4已经是两年前，源码那个时候不太懂所以应该是删掉了，不然重新cmake一下应该就行了。不过这里出现错误了，先复制给ai看看。“这是因为你开启了 -DGEANT4_USE_GDML=ON，Geant4 需要使用 Xerces-C++ 这个库来处理 GDML，但你本机没装这个库，或者 CMake 找不到它。”，那么就安装一个xerces-c吧。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % brew install xerces-c
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>&gt; Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api/formul
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>&gt; Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/api/cask.j
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>&gt; Fetching xerces-c
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>&gt; Downloading https://mirrors.ustc.edu.cn/homebrew-bottles/xerces-c-3.3.0.arm6
</span></span><span style="display:flex;"><span><span style="color:#75715e">######################################################################### 100.0%</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>&gt; Pouring xerces-c-3.3.0.arm64_sonoma.bottle.tar.gz
</span></span><span style="display:flex;"><span>🍺  /opt/homebrew/Cellar/xerces-c/3.3.0: 1,715 files, 39.0MB
</span></span><span style="display:flex;"><span><span style="color:#f92672">==</span>&gt; Running <span style="color:#e6db74">`</span>brew cleanup xerces-c<span style="color:#e6db74">`</span>...
</span></span><span style="display:flex;"><span>Disable this behaviour by setting HOMEBREW_NO_INSTALL_CLEANUP.
</span></span><span style="display:flex;"><span>Hide these hints with HOMEBREW_NO_ENV_HINTS <span style="color:#f92672">(</span>see <span style="color:#e6db74">`</span>man brew<span style="color:#e6db74">`</span><span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>OFF -DGEANT4_USE_GDML<span style="color:#f92672">=</span>ON -DGEANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON ~/Geant4/geant4-v11.3.2
</span></span><span style="display:flex;"><span>-- Checking C++ feature CXXSTDLIB_FILESYSTEM_NATIVE - Success
</span></span><span style="display:flex;"><span>-- Found XercesC: /opt/homebrew/lib/libxerces-c.dylib <span style="color:#f92672">(</span>found version <span style="color:#e6db74">&#34;3.3.0&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4NDL <span style="color:#f92672">(</span>4.7.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4EMLOW <span style="color:#f92672">(</span>8.6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset PhotonEvaporation <span style="color:#f92672">(</span>6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset RadioactiveDecay <span style="color:#f92672">(</span>6.1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4PARTICLEXS <span style="color:#f92672">(</span>4.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4PII <span style="color:#f92672">(</span>1.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset RealSurface <span style="color:#f92672">(</span>2.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4SAIDDATA <span style="color:#f92672">(</span>2.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4ABLA <span style="color:#f92672">(</span>3.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4INCL <span style="color:#f92672">(</span>1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4ENSDFSTATE <span style="color:#f92672">(</span>3.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Pre-configuring dataset G4CHANNELING <span style="color:#f92672">(</span>1.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  *WARNING*
</span></span><span style="display:flex;"><span>    Geant4 has been pre-configured to look <span style="color:#66d9ef">for</span> datasets
</span></span><span style="display:flex;"><span>    in the directory:
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    but the following datasets are NOT present on disk at
</span></span><span style="display:flex;"><span>    that location:
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    G4NDL <span style="color:#f92672">(</span>4.7.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4EMLOW <span style="color:#f92672">(</span>8.6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    PhotonEvaporation <span style="color:#f92672">(</span>6.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    RadioactiveDecay <span style="color:#f92672">(</span>6.1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4PARTICLEXS <span style="color:#f92672">(</span>4.1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4PII <span style="color:#f92672">(</span>1.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    RealSurface <span style="color:#f92672">(</span>2.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4SAIDDATA <span style="color:#f92672">(</span>2.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4ABLA <span style="color:#f92672">(</span>3.3<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4INCL <span style="color:#f92672">(</span>1.2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4ENSDFSTATE <span style="color:#f92672">(</span>3.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    G4CHANNELING <span style="color:#f92672">(</span>1.0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> -  If you have access to cvmfs, you can use standard datasets
</span></span><span style="display:flex;"><span>    by reconfiguring with:
</span></span><span style="display:flex;"><span>      cmake -DGEANT4_INSTALL_DATADIR<span style="color:#f92672">=</span>/cvmfs/geant4.cern.ch/share/data &lt;...&gt;
</span></span><span style="display:flex;"><span>    The variable can also be set in ccmake or cmake-gui.
</span></span><span style="display:flex;"><span> -  If you want to have these datasets installed by Geant4,
</span></span><span style="display:flex;"><span>    simply re-run cmake with GEANT4_INSTALL_DATA<span style="color:#f92672">=</span>ON. This will
</span></span><span style="display:flex;"><span>    configure the build to download and install these datasets <span style="color:#66d9ef">for</span> you.
</span></span><span style="display:flex;"><span>    For example, use:
</span></span><span style="display:flex;"><span>      cmake -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>ON &lt;otherargs&gt;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    If you<span style="color:#e6db74">&#39;re running on a Windows system, this is the best
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    solution as CMake will unpack the datasets for you
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    without any further software being required
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> -  Alternatively, you can install these datasets manually
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    now or after you have installed Geant4. To do this,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    download the following files:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4NDL.4.7.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4EMLOW.8.6.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4PhotonEvaporation.6.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4RadioactiveDecay.6.1.2.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4PARTICLEXS.4.1.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4PII.1.3.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4RealSurface.2.2.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4SAIDDATA.2.0.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4ABLA.3.3.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4INCL.1.2.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4ENSDFSTATE.3.0.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    https://cern.ch/geant4-data/datasets/G4CHANNELING.1.0.tar.gz
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    and unpack them under the directory:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    /Users/ninependoragon/Geant4/G4_install/share/Geant4/data
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    As we supply the datasets packed in gzipped tar files,
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    you will need the &#39;</span>tar<span style="color:#e6db74">&#39; utility to unpack them.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Nota bene: Missing datasets will not affect or break
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               compilation and installation of the Geant4
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               libraries.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for sys/types.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for sys/types.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stdint.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stdint.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stddef.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for stddef.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Check size of off64_t
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Check size of off64_t - failed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for fseeko
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for fseeko - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for unistd.h
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Looking for unistd.h - found
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test G4ZLIB_NEEDS_DNP
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test G4ZLIB_NEEDS_DNP - Success
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option BUILD_STATIC_LIBS - OFF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option BUILD_SHARED_LIBS - ON
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option BUILD_OBJECT_LIBS - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with CMAKE_CXX_STANDARD - 17
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_COVERAGE - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_SANITIZER - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_CLANG_TIDY - 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_TBB - OFF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_USE_LOCKS - OFF
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_INSTALL_HEADERS - ON
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Building PTL with option PTL_INSTALL_CONFIG - ON
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- Found Threads: TRUE
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">-- The following Geant4 features are enabled:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">CMAKE_CXX_STANDARD: Compiling against C++ Standard &#39;</span>17<span style="color:#e6db74">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">GEANT4_BUILD_MULTITHREADED: Build multithread enabled libraries
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">GEANT4_BUILD_TLS_MODEL: Building with TLS model &#39;</span>initial-exec<span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span><span style="display:flex;"><span>GEANT4_USE_SYSTEM_EXPAT: Using system EXPAT library
</span></span><span style="display:flex;"><span>GEANT4_USE_GDML: Building Geant4 with GDML support
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- Configuring <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span>1.9s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Generating <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span>0.5s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Build files have been written to: /Users/ninependoragon/Geant4/G4_build
</span></span></code></pre></div><p>和之前差不多同样的输出。教程下一步是make。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % make
</span></span></code></pre></div><p>然后就是等待。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 88%<span style="color:#f92672">]</span> Building CXX object source/CMakeFiles/G4mctruth.dir/persistency/mctruth/src/G4VPHitsCollectionIO.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 88%<span style="color:#f92672">]</span> Linking CXX shared library ../BuildProducts/lib/libG4mctruth.dylib
</span></span><span style="display:flex;"><span>ld: warning: search path <span style="color:#e6db74">&#39;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib:&#39;</span> not found
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>make过程中的报错，似乎是忘记安装qt5了。总之先继续下去吧，看能不能打开example B1。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % make install
</span></span></code></pre></div><p>继续等待。完成安装后</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cd ../G4_install/share/Geant4/
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % mkidr data
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % cp ~/Downloads/G4DATA/* ~/Geant4/G4_install/share/Geant4/data
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4ABLA3.3 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4CHANNELING1.0 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4EMLOW8.6.1 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4ENSDFSTATE3.0 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4INCL1.2 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4NDL4.7.1 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4NUDEXLIB1.0 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4PARTICLEXS4.1 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4PII1.3 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4SAIDDATA2.0 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4TENDL1.4 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/G4URRPT1.1 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/PhotonEvaporation6.1 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>cp: /Users/ninependoragon/Downloads/G4DATA/RadioactiveDecay6.1.2 is a directory <span style="color:#f92672">(</span>not copied<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % cd data 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro data % ls
</span></span><span style="display:flex;"><span>G4ABLA.3.3.tar.gz		G4PII.1.3.tar.gz
</span></span><span style="display:flex;"><span>G4CHANNELING.1.0.tar.gz		G4PhotonEvaporation.6.1.tar.gz
</span></span><span style="display:flex;"><span>G4EMLOW.8.6.1.tar.gz		G4RadioactiveDecay.6.1.2.tar.gz
</span></span><span style="display:flex;"><span>G4ENSDFSTATE.3.0.tar.gz		G4RealSurface.2.2.tar<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>.gz
</span></span><span style="display:flex;"><span>G4INCL.1.2.tar.gz		G4SAIDDATA.2.0.tar.gz
</span></span><span style="display:flex;"><span>G4NDL.4.7.1.tar.gz		G4TENDL.1.4.tar.gz
</span></span><span style="display:flex;"><span>G4NUDEXLIB.1.0.tar.gz		G4URRPT.1.1.tar.gz
</span></span><span style="display:flex;"><span>G4PARTICLEXS.4.1.tar.gz
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro data % cd ~/Downloads/G4DATA 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4DATA % ls
</span></span><span style="display:flex;"><span>G4ABLA.3.3.tar.gz		G4PII.1.3.tar.gz
</span></span><span style="display:flex;"><span>G4CHANNELING.1.0.tar.gz		G4PhotonEvaporation.6.1.tar.gz
</span></span><span style="display:flex;"><span>G4EMLOW.8.6.1.tar.gz		G4RadioactiveDecay.6.1.2.tar.gz
</span></span><span style="display:flex;"><span>G4ENSDFSTATE.3.0.tar.gz		G4RealSurface.2.2.tar<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>.gz
</span></span><span style="display:flex;"><span>G4INCL.1.2.tar.gz		G4SAIDDATA.2.0.tar.gz
</span></span><span style="display:flex;"><span>G4NDL.4.7.1.tar.gz		G4TENDL.1.4.tar.gz
</span></span><span style="display:flex;"><span>G4NUDEXLIB.1.0.tar.gz		G4URRPT.1.1.tar.gz
</span></span><span style="display:flex;"><span>G4PARTICLEXS.4.1.tar.gz
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4DATA % tar -xf *.tar.gz ~/Geant4/G4_install 
</span></span><span style="display:flex;"><span>tar: G4CHANNELING.1.0.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4EMLOW.8.6.1.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4ENSDFSTATE.3.0.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4INCL.1.2.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4NDL.4.7.1.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4NUDEXLIB.1.0.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4PARTICLEXS.4.1.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4PII.1.3.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4PhotonEvaporation.6.1.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4RadioactiveDecay.6.1.2.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4SAIDDATA.2.0.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4TENDL.1.4.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: G4URRPT.1.1.tar.gz: Not found in archive
</span></span><span style="display:flex;"><span>tar: /Users/ninependoragon/Geant4/G4_install: Not found in archive
</span></span><span style="display:flex;"><span>tar: Error exit delayed from previous errors.
</span></span></code></pre></div><p>我把下载的DATA文件全放在一个文件夹G4DATA中，本来以为可以tar一次性解压，但似乎不能用tar -xf *.tar.gz，在网上搜索之后发现可以用<code>for tar in *.tar.gz;  do tar xvf $tar; done</code>一次性解压多个tar.gz文件。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4DATA % <span style="color:#66d9ef">for</span> tar in *.tar.gz;  <span style="color:#66d9ef">do</span> tar xvf $tar; <span style="color:#66d9ef">done</span>
</span></span></code></pre></div><p>运行完成之后，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4DATA % ls
</span></span><span style="display:flex;"><span>G4ABLA.3.3.tar.gz		G4PARTICLEXS4.1
</span></span><span style="display:flex;"><span>G4ABLA3.3			G4PII.1.3.tar.gz
</span></span><span style="display:flex;"><span>G4CHANNELING.1.0.tar.gz		G4PII1.3
</span></span><span style="display:flex;"><span>G4CHANNELING1.0			G4PhotonEvaporation.6.1.tar.gz
</span></span><span style="display:flex;"><span>G4EMLOW.8.6.1.tar.gz		G4RadioactiveDecay.6.1.2.tar.gz
</span></span><span style="display:flex;"><span>G4EMLOW8.6.1			G4RealSurface.2.2.tar<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>.gz
</span></span><span style="display:flex;"><span>G4ENSDFSTATE.3.0.tar.gz		G4SAIDDATA.2.0.tar.gz
</span></span><span style="display:flex;"><span>G4ENSDFSTATE3.0			G4SAIDDATA2.0
</span></span><span style="display:flex;"><span>G4INCL.1.2.tar.gz		G4TENDL.1.4.tar.gz
</span></span><span style="display:flex;"><span>G4INCL1.2			G4TENDL1.4
</span></span><span style="display:flex;"><span>G4NDL.4.7.1.tar.gz		G4URRPT.1.1.tar.gz
</span></span><span style="display:flex;"><span>G4NDL4.7.1			G4URRPT1.1
</span></span><span style="display:flex;"><span>G4NUDEXLIB.1.0.tar.gz		PhotonEvaporation6.1
</span></span><span style="display:flex;"><span>G4NUDEXLIB1.0			RadioactiveDecay6.1.2
</span></span><span style="display:flex;"><span>G4PARTICLEXS.4.1.tar.gz
</span></span></code></pre></div><p>其实应该在Geant4的data目录下解压，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cd ~/Geant4/G4_install/share/Geant4/data/
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro data % <span style="color:#66d9ef">for</span> tar in *.tar.gz;  <span style="color:#66d9ef">do</span> tar xvf $tar; <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro data % rm *.tar.gz
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro data % ls
</span></span><span style="display:flex;"><span>G4ABLA3.3			G4PII1.3
</span></span><span style="display:flex;"><span>G4CHANNELING1.0			G4RealSurface.2.2.tar<span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>.gz
</span></span><span style="display:flex;"><span>G4EMLOW8.6.1			G4SAIDDATA2.0
</span></span><span style="display:flex;"><span>G4ENSDFSTATE3.0			G4TENDL1.4
</span></span><span style="display:flex;"><span>G4INCL1.2			G4URRPT1.1
</span></span><span style="display:flex;"><span>G4NDL4.7.1			PhotonEvaporation6.1
</span></span><span style="display:flex;"><span>G4NUDEXLIB1.0			RadioactiveDecay6.1.2
</span></span><span style="display:flex;"><span>G4PARTICLEXS4.1
</span></span></code></pre></div><p>这样data数据应该就准备好了。现在看看example B1能不能运行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro data % cd ..
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % ls
</span></span><span style="display:flex;"><span>data		examples	fonts		geant4make	tools.license
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro Geant4 % cd examples/basic/B1 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro B1 % mkdir build
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro B1 % cd build 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % cmake ..
</span></span><span style="display:flex;"><span>-- The C compiler identification is AppleClang 15.0.0.15000309
</span></span><span style="display:flex;"><span>-- The CXX compiler identification is AppleClang 15.0.0.15000309
</span></span><span style="display:flex;"><span>-- Detecting C compiler ABI info
</span></span><span style="display:flex;"><span>-- Detecting C compiler ABI info - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Check <span style="color:#66d9ef">for</span> working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped
</span></span><span style="display:flex;"><span>-- Detecting C compile features
</span></span><span style="display:flex;"><span>-- Detecting C compile features - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Detecting CXX compiler ABI info
</span></span><span style="display:flex;"><span>-- Detecting CXX compiler ABI info - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Check <span style="color:#66d9ef">for</span> working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped
</span></span><span style="display:flex;"><span>-- Detecting CXX compile features
</span></span><span style="display:flex;"><span>-- Detecting CXX compile features - <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>-- Found EXPAT: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/usr/lib/libexpat.tbd <span style="color:#f92672">(</span>found suitable version <span style="color:#e6db74">&#34;2.5.0&#34;</span>, minimum required is <span style="color:#e6db74">&#34;2.5.0&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
</span></span><span style="display:flex;"><span>-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
</span></span><span style="display:flex;"><span>-- Found Threads: TRUE
</span></span><span style="display:flex;"><span>-- Found OpenGL: /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX14.5.sdk/System/Library/Frameworks/OpenGL.framework
</span></span><span style="display:flex;"><span>-- Found Geant4: /Users/ninependoragon/Documents/Geant4/install/lib/cmake/Geant4/Geant4Config.cmake <span style="color:#f92672">(</span>found version <span style="color:#e6db74">&#34;11.1.2&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Configuring <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span>1.4s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Generating <span style="color:#66d9ef">done</span> <span style="color:#f92672">(</span>0.0s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>-- Build files have been written to: /Users/ninependoragon/Geant4/G4_install/share/Geant4/examples/basic/B1/build
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % make 
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 12%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/exampleB1.cc.o
</span></span><span style="display:flex;"><span>/Users/ninependoragon/Geant4/G4_install/share/Geant4/examples/basic/B1/exampleB1.cc:79:25: error: no matching constructor <span style="color:#66d9ef">for</span> initialization of <span style="color:#e6db74">&#39;G4VisExecutive&#39;</span>
</span></span><span style="display:flex;"><span>  auto visManager <span style="color:#f92672">=</span> new G4VisExecutive<span style="color:#f92672">(</span>argc, argv<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                        ^              ~~~~~~~~~~
</span></span><span style="display:flex;"><span>/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.icc:126:17: note: candidate constructor not viable: allows at most single argument <span style="color:#e6db74">&#39;verbosityString&#39;</span>, but <span style="color:#ae81ff">2</span> arguments were provided
</span></span><span style="display:flex;"><span>G4VisExecutive::G4VisExecutive <span style="color:#f92672">(</span>const G4String&amp; verbosityString<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>                ^
</span></span><span style="display:flex;"><span>/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.hh:119:7: note: candidate constructor <span style="color:#f92672">(</span>the implicit copy constructor<span style="color:#f92672">)</span> not viable: requires <span style="color:#ae81ff">1</span> argument, but <span style="color:#ae81ff">2</span> were provided
</span></span><span style="display:flex;"><span>class G4VisExecutive: public G4VisManager <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      ^
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> error generated.
</span></span><span style="display:flex;"><span>make<span style="color:#f92672">[</span>2<span style="color:#f92672">]</span>: *** <span style="color:#f92672">[</span>CMakeFiles/exampleB1.dir/exampleB1.cc.o<span style="color:#f92672">]</span> Error <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>make<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: *** <span style="color:#f92672">[</span>CMakeFiles/exampleB1.dir/all<span style="color:#f92672">]</span> Error <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>make: *** <span style="color:#f92672">[</span>all<span style="color:#f92672">]</span> Error <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>报错与可视化有关，可能是因为没安装qt5，但是我在思考，为什么我的旧的Geant4可以运行。也有可能是环境变量的问题，先设置一下变量再看看。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro ~ % nano .zshrc 
</span></span></code></pre></div><p>看一眼zshrc的配置文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFI</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#a6e22e">source</span> ~<span style="color:#f92672">/</span><span style="color:#a6e22e">Documents</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#f92672">/</span><span style="color:#a6e22e">geant4</span>.<span style="color:#a6e22e">sh</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span><span style="color:#a6e22e">alias</span> <span style="color:#a6e22e">g4camke</span>=<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">cmake</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">DGant4_DIR</span>=~<span style="color:#f92672">/</span><span style="color:#a6e22e">Documents</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cmake</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span></code></pre></div><p>可以看见是有qt5的，可是Geant4的环境变量没有修改。先修改环境变量试试。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFI</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span><span style="color:#a6e22e">source</span> ~<span style="color:#75715e">//Geant4/G4_install/bin/geant4.sh</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span><span style="color:#a6e22e">alias</span> <span style="color:#a6e22e">g4camke</span>=<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">cmake</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">DGant4_DIR</span>=~<span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cmake</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span></code></pre></div><p>control x 退出，y 回车两次保存。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro B1 % mkdir build2
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro B1 % cd build2
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build2 % cmake ../
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build2 % make
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 12%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/exampleB1.cc.o
</span></span><span style="display:flex;"><span>/Users/ninependoragon/Geant4/G4_install/share/Geant4/examples/basic/B1/exampleB1.cc:79:25: error: no matching constructor <span style="color:#66d9ef">for</span> initialization of <span style="color:#e6db74">&#39;G4VisExecutive&#39;</span>
</span></span><span style="display:flex;"><span>  auto visManager <span style="color:#f92672">=</span> new G4VisExecutive<span style="color:#f92672">(</span>argc, argv<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                        ^              ~~~~~~~~~~
</span></span><span style="display:flex;"><span>/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.icc:126:17: note: candidate constructor not viable: allows at most single argument <span style="color:#e6db74">&#39;verbosityString&#39;</span>, but <span style="color:#ae81ff">2</span> arguments were provided
</span></span><span style="display:flex;"><span>G4VisExecutive::G4VisExecutive <span style="color:#f92672">(</span>const G4String&amp; verbosityString<span style="color:#f92672">)</span>:
</span></span><span style="display:flex;"><span>                ^
</span></span><span style="display:flex;"><span>/Users/ninependoragon/Documents/Geant4/install/include/Geant4/G4VisExecutive.hh:119:7: note: candidate constructor <span style="color:#f92672">(</span>the implicit copy constructor<span style="color:#f92672">)</span> not viable: requires <span style="color:#ae81ff">1</span> argument, but <span style="color:#ae81ff">2</span> were provided
</span></span><span style="display:flex;"><span>class G4VisExecutive: public G4VisManager <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>      ^
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> error generated.
</span></span><span style="display:flex;"><span>make<span style="color:#f92672">[</span>2<span style="color:#f92672">]</span>: *** <span style="color:#f92672">[</span>CMakeFiles/exampleB1.dir/exampleB1.cc.o<span style="color:#f92672">]</span> Error <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>make<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span>: *** <span style="color:#f92672">[</span>CMakeFiles/exampleB1.dir/all<span style="color:#f92672">]</span> Error <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>make: *** <span style="color:#f92672">[</span>all<span style="color:#f92672">]</span> Error <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><p>还是报错，回头发现配置文件写错了，多写了个/。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro B1 % mkdir build3
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro B1 % cd build3 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build3 % source ~/Geant4/G4_install/bin/geant4.sh 
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build3 % cmake ..
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build3 % make 
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 12%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/exampleB1.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 25%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/src/ActionInitialization.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 37%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/src/DetectorConstruction.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 50%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/src/EventAction.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 62%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/src/PrimaryGeneratorAction.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 75%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/src/RunAction.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> 87%<span style="color:#f92672">]</span> Building CXX object CMakeFiles/exampleB1.dir/src/SteppingAction.cc.o
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>100%<span style="color:#f92672">]</span> Linking CXX executable exampleB1
</span></span><span style="display:flex;"><span>ld: warning: search path <span style="color:#e6db74">&#39;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib:&#39;</span> not found
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>100%<span style="color:#f92672">]</span> Built target exampleB1
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build3 % ./exampleB1 
</span></span></code></pre></div><p>并没有出现可视化窗口，然后才注意到刚刚的报错，还是没找到qt5，但是我这台电脑应该是有qt5的，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build3 % ls /opt/homebrew/Cellar/qt@5/5.15.13_1/
</span></span><span style="display:flex;"><span>Frameworks			doc
</span></span><span style="display:flex;"><span>INSTALL_RECEIPT.json		include
</span></span><span style="display:flex;"><span>LICENSE.FDL			lib
</span></span><span style="display:flex;"><span>LICENSE.GPL3-EXCEPT		libexec
</span></span><span style="display:flex;"><span>LICENSE.GPLv2			mkspecs
</span></span><span style="display:flex;"><span>LICENSE.GPLv3			phrasebooks
</span></span><span style="display:flex;"><span>LICENSE.LGPLv21			plugins
</span></span><span style="display:flex;"><span>LICENSE.LGPLv3			qml
</span></span><span style="display:flex;"><span>LICENSE.QT-LICENSE-AGREEMENT	share
</span></span><span style="display:flex;"><span>README				translations
</span></span><span style="display:flex;"><span>bin
</span></span></code></pre></div><p>发现是有这个目录的，还是环境变量问题。听ai的修改成：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONF</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/opt/qt@5/lib $LDFLAGS&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/opt/qt@5/include $CPPFLAGS&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFIG_PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#a6e22e">source</span> ~<span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#f92672">/</span><span style="color:#a6e22e">geant4</span>.<span style="color:#a6e22e">sh</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#a6e22e">alias</span> <span style="color:#a6e22e">g4camke</span>=<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">cmake</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">DGant4_DIR</span>=~<span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cmake</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span></code></pre></div><p>然后</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>source ~/.zshrc
</span></span></code></pre></div><p>再次make example B1结果还是不行。</p>
<p>搜到一篇帖子说G4不支持在zsh中执行，只能bash中执行，我先看看我的.bashrc。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.5.1</span><span style="color:#a6e22e">_2</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt/6.5.1_2/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt/6.5.1_2/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.5.1</span><span style="color:#a6e22e">_2</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFI</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CMAKE_PREFIX_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.10</span><span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span><span style="color:#a6e22e">source</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">Users</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ninependoragon</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Documents</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#f92672">/</span><span style="color:#a6e22e">geant4</span>.<span style="color:#a6e22e">sh</span>
</span></span></code></pre></div><p>修改一下，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.5.1</span><span style="color:#a6e22e">_2</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt/6.5.1_2/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt/6.5.1_2/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.5.1</span><span style="color:#a6e22e">_2</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFI</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CMAKE_PREFIX_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.10</span><span style="color:#f92672">/</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span><span style="color:#a6e22e">source</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">Users</span><span style="color:#f92672">/</span><span style="color:#a6e22e">ninependoragon</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#f92672">/</span><span style="color:#a6e22e">geant4</span>.<span style="color:#a6e22e">sh</span>
</span></span></code></pre></div><p>修改之后运行还是不对，而且我记得两年前我用zsh运行过example B1。
又在网上搜了一堆之后发现可能是关联cmake的时候没有开启GEANT4_USE_QT，现在重新cmake安装试试。
删掉旧的build文件夹，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>OFF -DGEANT4_USE_GDML<span style="color:#f92672">=</span>ON -DGEANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON -DGEANT4_USE_QT<span style="color:#f92672">=</span>ON ~/Geant4/geant4-v11.3.2
</span></span></code></pre></div><p>折腾一个小时后，发现还是zshrc配置文件写错了。修改后的.zshrc文件如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFIG_PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib${LDFLAGS:+:$LDFLAGS}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include${CPPFLAGS:+:$CPPFLAGS}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#e6db74">&#34;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib/pkgconfig${PKG_CONFIG_PATH:+:$PK$
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#e6db74">export PATH=&#34;</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#960050;background-color:#1e0010">$</span>{<span style="color:#a6e22e">PATH</span>:<span style="color:#f92672">+</span>:}<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#e6db74">#export PATH=&#34;</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#e6db74">#export LDFLAGS=&#34;</span><span style="color:#f92672">-</span><span style="color:#a6e22e">L</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.13</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#e6db74">#export CPPFLAGS=&#34;</span><span style="color:#f92672">-</span><span style="color:#a6e22e">I</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.13</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">include</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#e6db74">#export PKG_CONFIG_PATH=&#34;</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFIG_PATH</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span><span style="color:#e6db74">#export CMAKE_PREFIX_PATH=/opt/homebrew/Cellar/qt@5/5.15.13_1/:$CMAKE_PREFIX_PATH
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span><span style="color:#e6db74">#export PATH=/opt/homebrew/opt/qt@5/bin:$PATH
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span><span style="color:#e6db74">#export LDFLAGS=&#34;</span><span style="color:#f92672">-</span><span style="color:#a6e22e">L</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span><span style="color:#960050;background-color:#1e0010">&#34;</span>
</span></span></code></pre></div><p>而且我发现source ~/.zshrc 后会导致$LDFLAGS等相同路径重复多次，重启终端则是正常的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % cmake -DCMAKE_INSTALL_PREFIX<span style="color:#f92672">=</span>~/Geant4/G4_install -DGEANT4_INSTALL_DATA<span style="color:#f92672">=</span>OFF -DGEANT4_USE_GDML<span style="color:#f92672">=</span>ON -DGEANT4_BUILD_MULTITHREADED<span style="color:#f92672">=</span>ON -DGEANT4_USE_QT<span style="color:#f92672">=</span>ON ~/Geant4/geant4-v11.3.2
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro G4_build % make
</span></span></code></pre></div><p>目前没有报warning了，所以大概还是ld: warning: search path &lsquo;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib:&rsquo; not found这个报错的原因，路径最后含有冒号，按照ai的修改意见改了.zshrc之后就不提示这个warning了。然而这个文件两年了一直没动过，想不起来两年前怎么安装的Geant4了。
make完操作跟上面一样，先make install，然后拷贝data文件，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % source ~/Geant4/G4_install/bin/geant4.sh
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % alias g4camke<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;cmake -DGant4_DIR=~/Geant4/G4_install/lib/cmake/Geant4/&#39;</span>
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % cmake ..   
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % make -j4
</span></span><span style="display:flex;"><span>ninependoragon@Nines-MacBook-Pro build % ./exampleB1
</span></span></code></pre></div><p><img src="/geant4/B1.png" alt="exampleB1" title="exampleB1">
终于搞定了，泪目，每次安装都是全新体验。</p>
<p>明天再写吧 累了 踩坑写完后给个总结我会放在最前面
大概就是</p>
<ol>
<li>下载源码和依赖</li>
<li>qt5环境</li>
<li>安装</li>
<li>拷贝data</li>
<li>geant4环境</li>
<li>运行example B1</li>
</ol>
<p>6月24日晚我来写总结部分的时候发现我的.zshrc文件alias部分写错了，是拼写错误。而且之前折腾的时候测试的一些注释掉的行也没有删除，显得很乱。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFIG_PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib${LDFLAGS:+:$LDFLAGS}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include${CPPFLAGS:+:$CPPFLAGS}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#e6db74">&#34;/opt/homebrew/Cellar/qt@5/5.15.13_1/lib/pkgconfig${PKG_CONFIG_PATH:+:$PKG_CONFIG_PATH}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#e6db74">&#34;/opt/homebrew/opt/qt@5/bin${PATH:+:}$PATH&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#e6db74">&#34;/opt/homebrew/opt/qt@5/bin:$PATH&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib:$LDFLAGS&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include:$CPPFLAGS&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#e6db74">&#34;/opt/homebrew/Cellar/qt/6.7.0_1/lib/pkgconfig:$PKG_CONFIG_PATH&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CMAKE_PREFIX_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.13</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CMAKE_PREFIX_PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/opt/qt@5/lib $LDFLAGS&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/opt/qt@5/include $CPPFLAGS&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFIG_PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span><span style="color:#a6e22e">source</span> ~<span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#f92672">/</span><span style="color:#a6e22e">geant4</span>.<span style="color:#a6e22e">sh</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span><span style="color:#a6e22e">alias</span> <span style="color:#a6e22e">g4camke</span>=<span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">cmake</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">DGant4_DIR</span>=~<span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cmake</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">&#39;</span>
</span></span></code></pre></div><p>不过这一行相当于给cmake换了个名字，我不运行g4cmake的话倒是没什么问题。但是直接cmake也行，感觉用处不大，直接删掉了。我最后的配置文件是，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">LDFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include&#34;</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CPPFLAGS</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PKG_CONFIG_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6.7.0</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">PKG_CONFIG</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">LDFLAGS</span>=<span style="color:#e6db74">&#34;-L/opt/homebrew/Cellar/qt@5/5.15.13_1/lib${LDFLAGS:+:$LDFLAGS}&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CPPFLAGS</span>=<span style="color:#e6db74">&#34;-I/opt/homebrew/Cellar/qt@5/5.15.13_1/include${CPPFLAGS:+:$CPPFL$
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span><span style="color:#e6db74">export PKG_CONFIG_PATH=&#34;</span><span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.13</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span><span style="color:#a6e22e">lib</span><span style="color:#f92672">/</span><span style="color:#a6e22e">pkgconfig</span><span style="color:#960050;background-color:#1e0010">$</span>{<span style="color:#a6e22e">PKG_CO</span><span style="color:#960050;background-color:#1e0010">$</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">PATH</span>=<span style="color:#e6db74">&#34;/opt/homebrew/opt/qt@5/bin${PATH:+:}$PATH&#34;</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#a6e22e">export</span> <span style="color:#a6e22e">CMAKE_PREFIX_PATH</span>=<span style="color:#f92672">/</span><span style="color:#a6e22e">opt</span><span style="color:#f92672">/</span><span style="color:#a6e22e">homebrew</span><span style="color:#f92672">/</span><span style="color:#a6e22e">Cellar</span><span style="color:#f92672">/</span><span style="color:#a6e22e">qt</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">5.15.13</span><span style="color:#a6e22e">_1</span><span style="color:#f92672">/</span>:<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">CMAKE_PREFIX_PATH</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span><span style="color:#a6e22e">source</span> ~<span style="color:#f92672">/</span><span style="color:#a6e22e">Geant4</span><span style="color:#f92672">/</span><span style="color:#a6e22e">G4_install</span><span style="color:#f92672">/</span><span style="color:#a6e22e">bin</span><span style="color:#f92672">/</span><span style="color:#a6e22e">geant4</span>.<span style="color:#a6e22e">sh</span>
</span></span></code></pre></div><p>注释掉的几行对未来可能有帮助，我就留下来。</p>

    </div>
    
    <aside class="post-toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#官方教程">官方教程</a></li>
    <li><a href="#macos">MacOS</a>
      <ul>
        <li><a href="#总结">总结</a></li>
        <li><a href="#踩坑">踩坑</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </aside>
    
  </div>

  <div class="post-footer">
    <script src="https://giscus.app/client.js"
            data-repo="NinePendoragon/my-hugo-site-test"
            data-repo-id="R_kgDOO9SV6g"
            data-category="General"
            data-category-id="DIC_kwDOO9SV6s4CsDnd"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="noborder_gray"
            data-lang="zh-CN"
            crossorigin="anonymous"
            async>
    </script>
  </div>
</article>

    </main>
  </body>
</html>
